<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß¨ FAA‚Ñ¢ Payroll OS ‚Äî Master Index</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN for interactive charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons (Added for broader icon support) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: This single-page application is designed as an interactive "Global Payroll Enterprise System Blueprint." It features a fixed left sidebar for primary navigation (Dashboards, Employee Management, Payroll Processing, Reporting & Analytics, Admin & Settings, HAT Book Index, FAA Global Brands, API Key Integrations). The main content area dynamically updates based on sidebar selections, simulating different "pages" or modules. This structure was chosen to demonstrate the vastness and interconnectedness of a large enterprise system within a single HTML file, allowing users to explore module-specific functionalities and a comprehensive UI element library. This addresses the user's need for a "workable product" by providing a dynamic, data-driven prototype of a complex system, rather than just static lists. -->
    <!-- Visualization & Content Choices: Report Info -> Goal -> Viz/Presentation -> Interaction -> Justification. 1. **Dashboard Overview:** Inform/Monitor -> Bar Chart (Chart.js) + Dynamic Status Cards -> Static display with hover tooltips; cards update based on simulated data -> Provides a quick visual summary of system health and KPIs. 2. **Employee Management:** Organize/Manage -> Dynamic Filterable List + Simulated Modals -> Search input, click to view details/add employee via modal -> Simulates a large employee directory with interactive search and form submission. 3. **Payroll Processing:** Action/Monitor -> Dynamic List of Cycles + Action Buttons + Workflow Steps with progress indicators -> Click to review/start/advance workflow, updating step status visually -> Represents a core workflow with clear next steps and atom-level button mapping, simulating live progress. 4. **Reporting & Analytics:** Inform/Generate -> Lists of Standard Reports + Launch Button for Custom Builder with loading/success states -> Click to simulate generation/builder launch with visual feedback -> Shows key reporting capabilities with specific report names and realistic generation simulation. 5. **Admin & Settings:** Configure -> Lists of Configuration Areas + Action Buttons -> Click to simulate navigation -> Demonstrates system configuration points with specific tasks. 6. **HAT Book Index:** Organize/Reference -> Filterable/Searchable/Collapsible List of Buttons with nested dropdowns and simulated interaction feedback -> Search input, dropdown filters, click to expand details and trigger temporary messages -> Provides the comprehensive UI element library requested, with atom-level detail on every button, click, and dropdown option, including routes to reports, and visual confirmation of interaction. 7. **FAA Global Brands:** Inform/Explore -> Filterable/Searchable Grid of Brands -> Search input, click for simulated details -> Showcases the integration of the brand ecosystem. 8. **API Key Integrations:** Inform/Reference -> Dynamic Table -> Static display of service, locations, and actions. This provides atom-level detail on external system connections crucial for a complete blueprint. All charts use Chart.js on Canvas. All dynamic content is generated via JavaScript from structured data, adhering to NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        /* Base font and background for the entire body */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            margin: 0; /* Ensure no default body margin */
            padding: 0; /* Ensure no default body padding */
            min-height: 100vh; /* Full viewport height */
            display: flex; /* Use flexbox for main layout */
            -webkit-font-smoothing: antialiased; /* Smoother font rendering */
            -moz-osx-font-smoothing: grayscale; /* Smoother font rendering for Firefox */
        }
        /* Sidebar specific width and flex properties */
        .sidebar {
            width: 280px;
            flex-shrink: 0; /* Prevent sidebar from shrinking */
            position: fixed; /* Keep sidebar fixed on scroll */
            height: 100%; /* Full height of the viewport */
            overflow-y: auto; /* Enable scrolling for long sidebar content */
            z-index: 50; /* Ensure sidebar is above other content */
        }

        /* Main content area to take remaining space and allow scrolling */
        .main-content {
            flex-grow: 1; /* Allows content to fill remaining space */
            margin-left: 280px; /* Offset by sidebar width */
            padding: 2rem; /* Consistent padding for content */
            overflow-y: auto; /* Enable scrolling for main content */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            body {
                flex-direction: column; /* Stack sidebar and content vertically */
            }
            .sidebar {
                width: 100%; /* Full width sidebar on small screens */
                height: auto; /* Auto height for sidebar */
                position: relative; /* Allow sidebar to scroll with content */
                overflow-y: visible; /* Disable scrolling for sidebar itself */
            }
            .main-content {
                margin-left: 0; /* Remove left margin on small screens */
                padding-top: 1rem; /* Adjust padding for stacked layout */
            }
        }

        /* Chart container styling for responsiveness and centering */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            max-width: 700px; /* Adjusted for wider content */
            height: 300px;
            max-height: 450px;
        }
        /* Media query for larger screens to adjust chart height */
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        /* Collapsible header styling for interactive sections */
        .collapsible-header {
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s ease;
        }
        /* Collapsible content styling for smooth open/close animation */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
        }
        /* Class to apply when collapsible content is open */
        .collapsible-content.open {
            max-height: 2000px; /* Arbitrary large value to allow content to expand */
            transition: max-height 0.7s ease-in;
        }
        /* Icon rotation for collapsible sections */
        .rotate-icon {
            transition: transform 0.3s ease;
        }
        /* Class to apply when icon is rotated */
        .rotate-icon.rotated {
            transform: rotate(90deg);
        }
        /* Workflow step card styling with left border indicators */
        .workflow-step-card {
            border-left: 4px solid;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.5rem;
            background-color: #ffffff;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            transition: border-color 0.3s ease;
        }
        /* Specific border colors for workflow step statuses */
        .workflow-step-card.active {
            border-color: #4f46e5; /* indigo-600 */
        }
        .workflow-step-card.completed {
            border-color: #10b981; /* emerald-500 */
        }
        .workflow-step-card.pending {
            border-color: #cbd5e1; /* slate-300 */
        }
        /* Message box for temporary notifications */
        .message-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #333;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            z-index: 1000;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        }
        /* Class to show the message box */
        .message-box.show {
            opacity: 1;
            transform: translateY(0);
        }
        /* Generic modal styling */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        /* Modal content styling */
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }
        /* Modal close button styling */
        .modal-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            cursor: pointer;
        }
        /* Loading spinner animation */
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }
        /* Keyframe animation for spinner */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex h-screen text-slate-700">

    <!-- Sidebar Navigation -->
    <aside class="sidebar bg-slate-800 text-white p-6 flex flex-col shadow-lg">
        <div class="text-2xl font-bold mb-8 text-indigo-300">FAA Omni-Payroll</div>
        <nav class="space-y-4 flex-grow">
            <!-- Navigation Links -->
            <a href="#" data-page="dashboard-overview" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üìä</span>
                <span class="font-medium">Dashboard Overview</span>
            </a>
            <a href="#" data-page="employee-management" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üë•</span>
                <span class="font-medium">Employee Management</span>
            </a>
            <a href="#" data-page="payroll-processing" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üí≥</span>
                <span class="font-medium">Payroll Processing & Sync</span>
            </a>
            <a href="#" data-page="reporting-analytics" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üìà</span>
                <span class="font-medium">Reporting & Analytics</span>
            </a>
            <a href="#" data-page="admin-settings" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">‚öôÔ∏è</span>
                <span class="font-medium">Admin & Settings</span>
            </a>
            <a href="#" data-page="hat-book-index" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üìö</span>
                <span class="font-medium">HAT Book Index: UI Elements</span>
            </a>
            <a href="#" data-page="global-brands" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üåê</span>
                <span class="font-medium">FAA Global Brands</span>
            </a>
            <a href="#" data-page="api-integrations" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üîó</span>
                <span class="font-medium">API Key Integrations & Sovereign Bridges</span>
            </a>
            <!-- New Navigation Links for Integrated Pages -->
            <hr class="border-slate-700 my-4">
            <p class="text-sm text-slate-400 px-3 mb-2">Payroll Sector Pages</p>
            <a href="#" data-page="payroll-master-index" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üß¨</span>
                <span class="font-medium">Payroll Master Index</span>
            </a>
            <a href="#" data-page="payroll-portal-landing" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">ü™ô</span>
                <span class="font-medium">Payroll Core Portal</span>
            </a>
            <a href="#" data-page="payroll-welcome-dashboard" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üìä</span>
                <span class="font-medium">Client Dashboard</span>
            </a>
            <a href="#" data-page="payroll-features" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üçá</span>
                <span class="font-medium">Payroll Features</span>
            </a>
            <a href="#" data-page="payroll-products-services" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üß∞</span>
                <span class="font-medium">Payroll Sub-Features</span>
            </a>
            <a href="#" data-page="payroll-ai-modules" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">ü§ñ</span>
                <span class="font-medium">Payroll AI Modules</span>
            </a>
            <a href="#" data-page="payroll-intelligence-hub" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üß†</span>
                <span class="font-medium">Payroll Intelligence Hub</span>
            </a>
            <a href="#" data-page="payroll-global-metrics" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üåç</span>
                <span class="font-medium">Payroll Global Metrics</span>
            </a>
            <a href="#" data-page="payroll-onboarding" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üì•</span>
                <span class="font-medium">Payroll Onboarding</span>
            </a>
            <a href="#" data-page="payroll-activation" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üçá</span>
                <span class="font-medium">Payroll Node Activation</span>
            </a>
            <a href="#" data-page="payroll-contact" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üì©</span>
                <span class="font-medium">Payroll Contact</span>
            </a>
            <a href="#" data-page="payroll-quantum-dashboard" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-700 transition-colors">
                <span class="text-xl">üßÆ</span>
                <span class="font-medium">Quantum Dashboard</span>
            </a>
        </nav>
        <!-- Footer in Sidebar -->
        <div class="mt-8 text-sm text-slate-400">
            <p>&copy; 2025 FAA Cosmogrid</p>
            <p>Quantum Compensation Protocol</p>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content p-8 bg-slate-50">
        <!-- Page Header -->
        <div id="page-header" class="mb-8">
            <h1 class="text-3xl font-bold text-slate-900" id="current-page-title"></h1>
            <p class="text-lg text-slate-600" id="current-page-description"></p>
        </div>

        <!-- Dynamic Page Content -->
        <div id="page-content" class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
            <!-- Dynamic content will be loaded here by JavaScript -->
        </div>
    </main>

    <!-- Message Box for Notifications -->
    <div id="messageBox" class="message-box"></div>
    
    <!-- Employee Modal -->
    <div id="employeeModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close-btn" onclick="closeModal('employeeModal')">&times;</span>
            <h3 class="text-xl font-bold mb-4">Add New Employee</h3>
            <form id="addEmployeeForm" class="space-y-4">
                <div>
                    <label for="newEmployeeName" class="block text-sm font-medium text-slate-700">Full Name</label>
                    <input type="text" id="newEmployeeName" class="mt-1 block w-full p-2 border border-slate-300 rounded-md" required>
                </div>
                <div>
                    <label for="newEmployeeRole" class="block text-sm font-medium text-slate-700">Role</label>
                    <input type="text" id="newEmployeeRole" class="mt-1 block w-full p-2 border border-slate-300 rounded-md" required>
                </div>
                <div>
                    <label for="newEmployeeLocation" class="block text-sm font-medium text-slate-700">Location</label>
                    <input type="text" id="newEmployeeLocation" class="mt-1 block w-full p-2 border border-slate-300 rounded-md" required>
                </div>
                <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors">Submit Employee</button>
            </form>
        </div>
    </div>
    
    <!-- Report Generation Modal -->
    <div id="reportModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close-btn" onclick="closeModal('reportModal')">&times;</span>
            <h3 class="text-xl font-bold mb-4">Report Generation</h3>
            <div id="reportModalContent" class="text-slate-700">
                <p><span class="loading-spinner"></span> Generating report...</p>
                <p class="mt-2 text-sm text-slate-500">This might take a few moments for complex reports.</p>
            </div>
        </div>
    </div>
    
    <!-- Brand Detail Modal -->
    <div id="brandDetailModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close-btn" onclick="closeModal('brandDetailModal')">&times;</span>
            <h3 class="text-xl font-bold mb-4" id="brandDetailTitle"></h3>
            <div id="brandDetailContent" class="text-slate-700">
                <!-- Brand details dynamically loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Data for each navigation page, including content, descriptions, and chart configurations.
        const pagesData = [
            {
                id: "dashboard-overview",
                title: "Dashboard Overview",
                icon: "üìä",
                description: "Your personalized command center for real-time payroll and HR insights. Monitor key metrics, track payroll cycle status, and get proactive alerts.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Payroll Cycle Status</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-indigo-50 p-4 rounded-lg shadow-sm">
                            <p class="text-sm text-indigo-700">Current Phase</p>
                            <p class="text-lg font-bold text-indigo-900">Data Collection</p>
                        </div>
                        <div class="bg-amber-50 p-4 rounded-lg shadow-sm">
                            <p class="text-sm text-amber-700">Next Deadline</p>
                            <p class="text-lg font-bold text-amber-900">July 15, 2025</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg shadow-sm">
                            <p class="text-sm text-green-700">Completion Rate</p>
                            <p class="text-lg font-bold text-green-900">75%</p>
                        </div>
                        <div class="bg-red-50 p-4 rounded-lg shadow-sm">
                            <p class="text-sm text-red-700">Pending Approvals</p>
                            <p class="text-lg font-bold text-red-900">3</p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg shadow-sm">
                            <p class="text-sm text-blue-700">Tax Remittances Due</p>
                            <p class="text-lg font-bold text-blue-900">2</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg shadow-sm">
                            <p class="text-sm text-purple-700">Active Integrations</p>
                            <p class="text-lg font-bold text-purple-900">12</p>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Key Performance Indicators</h3>
                    <div class="chart-container h-64 mb-6">
                        <canvas id="dashboardKPIsChart"></canvas>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Payroll Spend Trend</h3>
                    <div class="chart-container h-64">
                        <canvas id="payrollSpendChart"></canvas>
                    </div>
                    <div class="mt-6">
                        <h4 class="font-semibold text-slate-800 mb-2">Quick Actions</h4>
                        <div class="flex flex-wrap gap-2">
                            <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors" onclick="showMessage('Simulating: Initiating Payroll Run process...', 'info')">Initiate Payroll Run</button>
                            <button class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors" onclick="showMessage('Simulating: Viewing latest report...', 'info')">View Latest Report</button>
                            <button class="bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 transition-colors" onclick="openModal('employeeModal')">Add New Employee</button>
                            <button class="bg-orange-500 text-white px-4 py-2 rounded-md hover:bg-orange-600 transition-colors" onclick="showMessage('Simulating: Reviewing Pending Approvals...', 'info')">Review Approvals</button>
                            <button class="bg-teal-500 text-white px-4 py-2 rounded-md hover:bg-teal-600 transition-colors" onclick="showMessage('Simulating: Launching AI Anomaly Detection...', 'info')">Run AI Anomaly Detection</button>
                        </div>
                    </div>
                `,
                chartData: {
                    type: 'bar',
                    labels: ['Payroll Accuracy', 'On-Time Payments', 'Compliance Rate', 'ESS Adoption'],
                    datasets: [{
                        label: 'Performance %',
                        data: [99.8, 100, 99.5, 85],
                        backgroundColor: ['rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)', 'rgba(54, 162, 235, 0.7)'],
                        borderColor: ['rgb(75, 192, 192)', 'rgb(153, 102, 255)', 'rgb(255, 159, 64)', 'rgb(54, 162, 235)'],
                        borderWidth: 1
                    }]
                },
                chartData2: { // New chart data for Payroll Spend Trend
                    type: 'line',
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Monthly Spend (USD)',
                        data: [150000, 155000, 160000, 158000, 165000, 170000],
                        borderColor: 'rgba(79, 70, 229, 1)', // indigo-600
                        backgroundColor: 'rgba(79, 70, 229, 0.2)',
                        fill: true,
                        tension: 0.3
                    }]
                }
            },
            {
                id: "employee-management",
                title: "Employee Management",
                icon: "üë•",
                description: "Manage your global workforce. Add new employees, update profiles, and oversee benefits and compensation. Features like Smart Onboarding streamline new hire integration.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Employee Directory</h3>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6">
                        <input type="text" id="employeeSearch" placeholder="Search employees..." class="w-full p-2 border border-slate-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <div id="employeeList" class="space-y-3">
                            <!-- Employee items will be dynamically loaded here -->
                        </div>
                    </div>
                    <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="openModal('employeeModal')">Add New Employee</button>
                    <button class="bg-slate-500 text-white px-4 py-2 rounded-md hover:bg-slate-600 transition-colors ml-2" onclick="showMessage('Simulating: Importing employees from ATS...', 'info')">Import from ATS</button>
                    <button class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors ml-2" onclick="showMessage('Simulating: Launching Smart Onboarding workflow...', 'info')">Launch Smart Onboarding</button>
                `,
                data: [
                    { id: 1, name: "Alice Johnson", role: "HR Manager", status: "Active", location: "New York", hireDate: "2020-03-15", salary: "85,000" },
                    { id: 2, name: "Bob Smith", role: "Software Engineer", status: "Active", location: "London", hireDate: "2018-07-01", salary: "95,000" },
                    { id: 3, name: "Charlie Brown", role: "Marketing Specialist", status: "Active", location: "Sydney", hireDate: "2021-11-20", salary: "70,000" },
                    { id: 4, name: "Diana Prince", role: "Payroll Analyst", status: "Active", location: "Berlin", hireDate: "2019-01-10", salary: "78,000" },
                    { id: 5, name: "Eve Adams", role: "Data Scientist", status: "On Leave", location: "Paris", hireDate: "2022-05-05", salary: "105,000" },
                    { id: 6, name: "Frank White", role: "Sales Executive", status: "Active", location: "Tokyo", hireDate: "2023-02-28", salary: "80,000" },
                    { id: 7, name: "Grace Lee", role: "Product Manager", status: "Active", location: "San Francisco", hireDate: "2017-09-12", salary: "110,000" }
                ]
            },
            {
                id: "payroll-processing",
                title: "Payroll Processing & Sync",
                icon: "üí≥",
                description: "Execute payroll runs, review calculations, and manage approvals. A streamlined workflow for accurate and timely payments, with cross-system synchronization.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Payroll Sync Workflow: July 2025 - Global</h3>
                    <div id="payrollWorkflow" class="space-y-4">
                        <!-- Workflow steps will be dynamically loaded here -->
                    </div>
                    <div class="mt-6 flex flex-wrap gap-2">
                        <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="startNewPayrollRun()">Start New Payroll Run</button>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors ml-2" onclick="showMessage('Simulating: Viewing Payroll Calendar...', 'info')">View Payroll Calendar</button>
                        <button class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors ml-2" onclick="showMessage('Simulating: Running Compliance Checks...', 'info')">Run Compliance Checks</button>
                        <button class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition-colors ml-2" onclick="showMessage('Simulating: Initiating Payroll Rollback...', 'error')">Rollback Payroll</button>
                    </div>
                    <h4 class="font-semibold text-slate-800 mt-6 mb-2">Payroll Calendar Overview</h4>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                        <p class="text-slate-600">Next Payroll Run: <span class="font-bold">July 25, 2025</span> (Bi-weekly cycle)</p>
                        <p class="text-slate-600">Monthly Payroll: <span class="font-bold">July 31, 2025</span></p>
                        <p class="text-slate-600">Tax Remittance: <span class="font-bold text-red-600">August 5, 2025</span></p>
                    </div>
                `,
                workflowSteps: [
                    {
                        id: 'onboarding',
                        name: '1. Employee Onboarding & Data Input',
                        description: 'Gather and input new hire and employee data, including personal details, compensation, and benefits.',
                        status: 'completed', // completed, active, pending
                        buttons: [
                            { name: 'Add employees', system: 'ADP Workforce Now', action: 'Initiates new hire addition workflow', route_or_action: '/adp/employees/add' },
                            { name: 'Sync deductions to payroll', system: 'ADP Workforce Now', action: 'Ensures accuracy for federal, state, and local taxes', route_or_action: '/adp/payroll/deductions/sync' },
                            { name: 'Organization Settings (gear) icon', system: 'Deel', action: 'Accesses organizational settings for entity setup', route_or_action: '/deel/settings/organization' },
                            { name: 'Create entity', system: 'Deel', action: 'Initiates creation of a new legal entity', route_or_action: '/deel/entities/create' },
                            { name: 'Upload Parameter Files Option', system: 'Oracle Fusion Cloud', action: 'Uploads files with flow parameter details', route_or_action: 'Opens file upload dialog' }
                        ]
                    },
                    {
                        id: 'calculation',
                        name: '2. Gross Pay Calculation & Deductions',
                        description: 'Automated calculation of gross pay, deductions, and net pay, with continuous monitoring for accuracy.',
                        status: 'completed',
                        buttons: [
                            { name: 'Manage deductions', system: 'ADP Workforce Now', action: 'Configures and syncs payroll deductions', route_or_action: '/adp/payroll/deductions/manage' },
                            { name: 'Generate payroll results', system: 'SAP SuccessFactors', action: 'Stores productive payroll results', route_or_action: '/sap/payroll/generate-results' },
                            { name: 'Calculate in batch mode for pay group', system: 'Workday', action: 'Executes batch payroll calculations with single action', route_or_action: 'Triggers batch calculation' },
                            { name: 'Submit a Flow Page', system: 'Oracle Fusion Cloud', action: 'Initiates various payroll flows including calculations', route_or_action: '/oracle/payroll/submit-flow' },
                            { name: 'Run AI-Powered Calculation Audit', system: 'FAA Omni-Payroll', action: 'Initiates an AI-driven audit of payroll calculations for anomalies', route_or_action: 'Triggers AI audit' }
                        ]
                    },
                    {
                        id: 'review-approval',
                        name: '3. Review & Approval',
                        description: 'Review calculated payroll results, audit for exceptions, and obtain necessary approvals before submission.',
                        status: 'active',
                        buttons: [
                            { name: 'Check Payroll Results', system: 'SAP SuccessFactors', action: 'Displays and allows review of payroll calculation results', route_or_action: '/sap/payroll/check-results' },
                            { name: 'Review payroll', system: 'Deel', action: 'Initiates the review phase of the payroll cycle', route_or_action: '/deel/payroll/review' },
                            { name: 'Approve payroll', system: 'Deel', action: 'Approves the payroll for submission', route_or_action: 'Approves payroll' },
                            { name: 'Payroll Audit Exception Summary', system: 'Workday', action: 'Summarizes payroll audit exceptions in real-time', route_or_action: '/workday/payroll/audit-summary' },
                            { name: 'Actions Menu (Roll Back Errors)', system: 'Oracle Fusion Cloud', action: 'Rolls back records with errors', route_or_action: 'Rolls back errored records' },
                            { name: 'View AI Anomaly Report', system: 'FAA Omni-Payroll', action: 'Displays detailed report of detected payroll anomalies', route_or_action: 'Opens anomaly report' },
                            { name: 'Submit for Final Approval', system: 'FAA Omni-Payroll', action: 'Sends payroll for final executive approval', route_or_action: 'Sends for approval' }
                        ]
                    },
                    {
                        id: 'submission-funding',
                        name: '4. Submission & Funding',
                        description: 'Submit payroll for processing and initiate funding of employee payments and tax remittances.',
                        status: 'pending',
                        buttons: [
                            { name: 'Submit and fund payroll', system: 'Deel', action: 'Finalizes payroll submission and initiates funding', route_or_action: 'Submits and funds payroll' },
                            { name: 'Make a same-day ACH payment', system: 'ADP Workforce Now', action: 'Initiates urgent ACH payment for final paychecks', route_or_action: 'Triggers same-day ACH' },
                            { name: 'Release for Payroll', system: 'SAP SuccessFactors', action: 'Initiates the payroll processing cycle', route_or_action: 'Triggers payroll release' },
                            { name: 'Submit a Flow Page', system: 'Oracle Fusion Cloud', action: 'Initiates various payroll flows including submission', route_or_action: '/oracle/payroll/submit-flow' },
                            { name: 'Initiate Global Tax Remittance', system: 'FAA Omni-Payroll', action: 'Triggers automated remittance of taxes to relevant global authorities', route_or_action: 'Automates tax remittance' }
                        ]
                    },
                    {
                        id: 'post-processing',
                        name: '5. Post-Processing & Archiving',
                        description: 'Archive payroll records, generate general ledger entries, and ensure data retention for compliance.',
                        status: 'pending',
                        buttons: [
                            { name: 'Automated general ledger entries you can import into your general accounting program', system: 'ADP Workforce Now', action: 'Automates general ledger entries for import', route_or_action: 'Imports GL entries' },
                            { name: 'Exit Payroll', system: 'SAP SuccessFactors', action: 'Concludes the current payroll processing session', route_or_action: 'Exits payroll module' },
                            { name: 'Manage Configuration Packages Task', system: 'Oracle Fusion Cloud', action: 'Exports and imports configuration packages (including flows)', route_or_action: '/oracle/admin/config-packages' },
                            { name: 'Archive Payroll Records', system: 'FAA Omni-Payroll', action: 'Initiates long-term secure archiving of payroll data for compliance', route_or_action: 'Archives data' }
                        ]
                    }
                ]
            },
            {
                id: "reporting-analytics",
                title: "Reporting & Analytics",
                icon: "üìà",
                description: "Generate comprehensive reports, analyze payroll data, and gain insights for strategic decision-making and compliance. Access a wide array of standard and custom reports.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Standard Reports</h3>
                    <ul class="list-disc pl-5 space-y-2 text-slate-700 mb-6">
                        <li>Payroll Summary Report <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Payroll Summary Report')">Generate</button></li>
                        <li>Tax Liability Report <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Tax Liability Report')">Generate</button></li>
                        <li>Employee Earnings Report <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Employee Earnings Report')">Generate</button></li>
                        <li>Workday: Payroll Register <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Workday Payroll Register')">Generate</button></li>
                        <li>SAP: Form W-2 <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('SAP Form W-2')">Generate</button></li>
                        <li>Oracle: Statement of Earnings <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Oracle Statement of Earnings')">Generate</button></li>
                        <li>Global Headcount Report <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Global Headcount Report')">Generate</button></li>
                        <li>Benefit Enrollment Summary <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Benefit Enrollment Summary')">Generate</button></li>
                    </ul>
                    <h3 class="xl font-semibold text-slate-800 mb-4">Custom Report Builder</h3>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6">
                        <p class="text-slate-600 mb-4">Drag-and-drop fields to create your own tailored reports. Features like Workday's Report Writer provide powerful customization.</p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <select class="p-2 border border-slate-300 rounded-md">
                                <option>Select Data Field</option>
                                <option>Employee Name</option>
                                <option>Gross Pay</option>
                                <option>Net Pay</option>
                                <option>Deductions</option>
                                <option>Department</option>
                                <option>Location</option>
                                <option>Pay Period</option>
                            </select>
                            <select class="p-2 border border-slate-300 rounded-md">
                                <option>Select Filter</option>
                                <option>By Department</option>
                                <option>By Location</p>
                                <option>By Pay Period</option>
                            </select>
                            <button class="bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors" onclick="showMessage('Simulating: Adding field to custom report...', 'info')">Add Field</button>
                        </div>
                        <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="showMessage('Simulating: Launching Custom Report Builder...', 'info')">Launch Builder</button>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Audit & Compliance Reports</h3>
                    <ul class="list-disc pl-5 space-y-2 text-slate-700">
                        <li>Workday: Payroll Audit Exception Summary <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Workday Payroll Audit Exception Summary')">View</button></li>
                        <li>SAP: Tax Form Reconciliation <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('SAP Tax Form Reconciliation')">Run</button></li>
                        <li>Global Compliance Checklist <button class="ml-2 text-indigo-600 hover:underline text-sm" onclick="generateReport('Global Compliance Checklist')">Generate</button></li>
                    </ul>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4 mt-6">Scheduled Reports</h3>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                        <p class="text-slate-600 mb-2">Monthly Payroll Summary: Scheduled for 1st of each month.</p>
                        <p class="text-slate-600">Quarterly Tax Report: Scheduled for end of Q1, Q2, Q3, Q4.</p>
                        <button class="mt-3 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors" onclick="showMessage('Simulating: Managing Report Schedules...', 'info')">Manage Schedules</button>
                    </div>
                `
            },
            {
                id: "admin-settings",
                title: "Admin & Settings",
                icon: "‚öôÔ∏è",
                description: "Configure system settings, manage user access, and maintain compliance parameters for your enterprise. Access deep configuration tools.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">System Configuration</h3>
                    <ul class="list-disc pl-5 space-y-2 text-slate-700 mb-6">
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Opening Tax Rules Configuration...', 'info')">Tax Rules & Compliance</a></li>
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Opening Integrations Management...', 'info')">Integrations Management</a></li>
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Opening User Roles & Permissions...', 'info')">User Roles & Permissions</a></li>
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Opening SAP PCC Configuration Workbench...', 'info')">SAP PCC Configuration Workbench (t-code PYC_CONF_WB)</a></li>
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Managing Oracle Fast Formulas...', 'info')">Oracle: Manage Fast Formulas</a></li>
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Configuring Payroll Calendars...', 'info')">Payroll Calendars</a></li>
                        <li><a href="#" class="text-indigo-600 hover:underline" onclick="showMessage('Simulating: Setting up Approval Workflows...', 'info')">Approval Workflows</a></li>
                    </ul>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">User Management</h3>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6">
                        <p class="text-slate-600 mb-4">Manage user accounts, assign roles, and control access permissions across the system.</p>
                        <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="showMessage('Simulating: Adding New User...', 'info')">Add User</button>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors ml-2" onclick="showMessage('Simulating: Managing User Roles...', 'info')">Manage Roles</button>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Audit Logs & Monitoring</h3>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6">
                        <p class="text-slate-600 mb-4">Review all system activities and changes for compliance and security. Includes SAP PCC Action/Audit Log and Oracle Process Results Details.</p>
                        <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="showMessage('Simulating: Viewing Full Audit Log...', 'info')">View Audit Log</button>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors ml-2" onclick="showMessage('Simulating: Monitoring SAP PCC Alerts...', 'info')">Monitor PCC Alerts</button>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Integration Setup</h3>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                        <p class="text-slate-600 mb-4">Configure and test connections with external systems like accounting software, ATS, and time tracking.</p>
                        <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="showMessage('Simulating: Adding New Integration...', 'info')">Add Integration</button>
                        <button class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors ml-2" onclick="showMessage('Simulating: Testing All Connections...', 'info')">Test Connections</button>
                    </div>
                `
            },
            {
                id: "hat-book-index",
                title: "HAT Book Index: UI Elements",
                icon: "üìö",
                description: "A comprehensive reference of all observed UI buttons, tabs, dropdowns, and keyboard shortcuts across leading global payroll systems, detailing their functions and routes. This provides atom-level verification.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Filter & Search</h3>
                    <div class="mb-6 flex flex-wrap gap-2">
                        <input type="text" id="buttonSearch" placeholder="Search buttons..." class="p-2 border border-slate-300 rounded-md flex-grow focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <select id="systemFilter" class="p-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Systems</option>
                            <option value="ADP Workforce Now">ADP Workforce Now</option>
                            <option value="Workday">Workday</option>
                            <option value="SAP SuccessFactors">SAP SuccessFactors</option>
                            <option value="Deel">Deel</option>
                            <option value="Oracle Fusion Cloud">Oracle Fusion Cloud</option>
                            <option value="FAA Omni-Payroll">FAA Omni-Payroll</option>
                            <option value="Generic">Generic</option>
                        </select>
                        <select id="categoryFilter" class="p-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Categories</option>
                            <option value="Navigation">Navigation</option>
                            <option value="Reporting">Reporting</option>
                            <option value="Admin">Admin</option>
                            <option value="ESS">ESS</option>
                            <option value="Payroll Processing">Payroll Processing</option>
                            <option value="Data Interaction">Data Interaction</option>
                            <option value="Support">Support</option>
                            <option value="Customization">Customization</option>
                            <option value="External Link">External Link</option>
                            <option value="Keyboard Shortcut">Keyboard Shortcut</option>
                            <option value="Form Action">Form Action</option>
                            <option value="Data Management">Data Management</option>
                            <option value="Employee Management">Employee Management</option>
                            <option value="Benefits">Benefits</option>
                            <option value="Workflow">Workflow</option>
                            <option value="Document Management">Document Management</option>
                            <option value="Authentication">Authentication</option>
                            <option value="Actions">Actions</option>
                            <option value="Chat Interface">Chat Interface</option>
                            <option value="Section">Section</option>
                            <option value="Configuration">Configuration</option>
                            <option value="Monitoring">Monitoring</option>
                            <option value="Integration">Integration</option>
                            <option value="Financial Analysis">Financial Analysis</option>
                            <option value="Tax Form">Tax Form</option>
                            <option value="Process Detail">Process Detail</option>
                            <option value="AI/ML Integration">AI/ML Integration</option>
                            <option value="Contract Management">Contract Management</option>
                            <option value="Tasks">Tasks</option>
                        </select>
                    </div>
                    <div id="buttonLibraryContent" class="space-y-4">
                        <!-- Buttons will be dynamically loaded here -->
                    </div>
                `
            },
            {
                id: "global-brands",
                title: "FAA Global Brands",
                icon: "üåê",
                description: "Explore the vast ecosystem of FAA brands and their interconnected sub-nodes. This section provides an overview of the Brand Bloodline and IP Sovereignty.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">FAA Brand Ecosystem Overview</h3>
                    <p class="text-slate-600 mb-6">The FAA‚Ñ¢ Omni-Payroll Global Challenger integrates with a vast ecosystem of 6,612+ verified brands, each an Atom-Level‚Ñ¢ sovereign entity. This section provides a glimpse into the Brand Bloodline and IP Sovereignty principles.</p>
                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6">
                        <input type="text" id="brandSearch" placeholder="Search brands..." class="w-full p-2 border border-slate-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <div id="brandList" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Brand items will be dynamically loaded here -->
                        </div>
                    </div>
                    <h4 class="font-semibold text-slate-800 mb-2">Key Brand Categories</h4>
                    <ul class="list-disc pl-5 space-y-1 text-slate-700">
                        <li>Flagship & System Brands (e.g., FAA Payroll‚Ñ¢, OmniKey‚Ñ¢, MONSTER OMNI‚Ñ¢)</li>
                        <li>Sector-Specific Brands (e.g., Food, Soil & Farming, Logistics & Packaging, AI, Logic & Grid Systems)</li>
                        <li>Total Verified Brands: 6,612+</li>
                    </ul>
                `,
                data: [
                    { name: "FAA Payroll‚Ñ¢", category: "Flagship", description: "Core System: Real-time sovereign payroll, quantum compensation.", details: "The central nervous system for all FAA payroll operations globally, ensuring atom-level accuracy and compliance across diverse jurisdictions. Features quantum compensation protocols and real-time ledger synchronization." },
                    { name: "OmniKey‚Ñ¢", category: "Flagship", description: "All-in-One Device: Payment, identity, licensing, access, ledger.", details: "A universal digital key providing seamless access across the FAA Cosmogrid. Integrates payment processing, identity verification, licensing, and secure ledger access for all authorized entities." },
                    { name: "MONSTER OMNI‚Ñ¢", category: "Flagship", description: "God-Level Brand Node: Crypto system rewrite, sovereign economic shield.", details: "The pinnacle of FAA's technological and economic sovereignty. A foundational crypto system designed to rewrite global economic paradigms, offering unparalleled security and an impenetrable economic shield for all FAA-linked operations." },
                    { name: "Seadva‚Ñ¢", category: "Commercial", description: "Core+ Commercial-grade, Immutable food traceability.", details: "Ensures end-to-end traceability for food products, leveraging immutable ledger technology to guarantee authenticity, origin, and quality from farm to consumer. Critical for global food supply chain integrity." },
                    { name: "HotStack‚Ñ¢", category: "Commercial", description: "Quick-Site Creator + Hosting Engine.", details: "A rapid development and hosting platform for creating secure, high-performance microsites and web applications within the FAA ecosystem. Powers streamlined digital presence for various FAA brands and partners." },
                    { name: "AgriCore", category: "Food, Soil & Farming", description: "Core brand for agricultural operations. Nodes: SoilSync‚Ñ¢, CropTrack‚Ñ¢.", details: "Manages and optimizes agricultural processes, from soil health monitoring (SoilSync‚Ñ¢) to crop yield tracking (CropTrack‚Ñ¢), ensuring sustainable and efficient food production across FAA's agricultural ventures." },
                    { name: "CrateLogic‚Ñ¢", category: "Logistics & Packaging", description: "Core brand for logistics. Nodes: BoxNode‚Ñ¢, CrateMap‚Ñ¢.", details: "Streamlines global logistics and supply chain management. Utilizes BoxNode‚Ñ¢ for intelligent packaging and CrateMap‚Ñ¢ for optimized routing and real-time cargo tracking." },
                    { name: "EduNest‚Ñ¢", category: "Youth & Education", description: "Core brand for education. Nodes: LearnNode, ScrollSeed.", details: "A comprehensive educational platform fostering learning and knowledge dissemination. LearnNode provides adaptive learning paths, while ScrollSeed ensures secure and verifiable academic credentials." },
                    { name: "OmniQR‚Ñ¢", category: "Webless Tech & Nodes", description: "Core brand for QR-based tech. Nodes: QRNode, YieldPing.", details: "Specializes in advanced QR code technologies for offline and decentralized applications. QRNode enables secure data exchange, and YieldPing provides real-time asset verification and supply chain transparency without traditional web infrastructure." },
                    { name: "MedVault‚Ñ¢", category: "Health & Hygiene", description: "Core brand for health data. Nodes: ScanID, PatientDrop.", details: "A highly secure, immutable vault for sensitive health and hygiene data. ScanID provides instant, privacy-preserving identity verification, and PatientDrop ensures secure, on-demand data access for authorized medical personnel." },
                    { name: "BuildNest‚Ñ¢", category: "Housing & Infrastructure", description: "Core brand for construction. Nodes: PlotVault, GridPermit.", details: "Manages and optimizes large-scale construction and infrastructure projects. PlotVault secures land registry and property data, while GridPermit streamlines regulatory approvals and project timelines." },
                    { name: "FrameCast‚Ñ¢", category: "Motion, Media & Sonic", description: "Core brand for media. Nodes: VaultScene, MediaNode.", details: "Powers the creation, distribution, and secure management of motion, media, and sonic content. VaultScene ensures content authenticity and rights management, and MediaNode optimizes streaming and delivery across the Cosmogrid." },
                    { name: "OmniLogic‚Ñ¢", category: "AI, Logic & Grid Systems", description: "Core brand for AI logic. Nodes: LogicRoot, VaultPath.", details: "Develops and deploys advanced AI and machine learning models across the FAA ecosystem. LogicRoot provides foundational AI algorithms, and VaultPath ensures secure, auditable AI decision-making and data processing." },
                    { name: "Banimal‚Ñ¢", category: "Retail, Vendor & Trade", description: "Core brand for retail. Nodes: ClanMesh, VendorQR.", details: "Revolutionizes retail and vendor management with decentralized trade solutions. ClanMesh facilitates secure peer-to-peer commerce, and VendorQR enables instant product verification and supply chain transparency." },
                    { name: "LedgerNest‚Ñ¢", category: "Professional Services", description: "Core brand for accounting. Nodes: LedgerCore, VaultTrack.", details: "Offers immutable accounting and financial ledger services. LedgerCore provides a secure, auditable financial record system, and VaultTrack ensures real-time tracking of all financial transactions within the FAA Cosmogrid." }
                ]
            },
            {
                id: "api-integrations",
                title: "API Key Integrations & Sovereign Bridges",
                icon: "üîó",
                description: "Direct access glyphs connecting the FAA‚Ñ¢ Cosmogrid to external, legacy systems, enabling data flow, payment processing, and enhanced AI capabilities. Keys are managed securely and not displayed.",
                content: `
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">External System Connections</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white border border-slate-200 rounded-lg shadow-sm">
                            <thead>
                                <tr class="bg-slate-100 text-left text-sm font-semibold text-slate-700">
                                    <th class="py-3 px-4 border-b border-slate-200">API/Service</th>
                                    <th class="py-3 px-4 border-b border-slate-200">Embedded Locations</th>
                                    <th class="py-3 px-4 border-b border-slate-200">Actions/Functions</th>
                                    <th class="py-3 px-4 border-b border-slate-200">Status</th>
                                    <th class="py-3 px-4 border-b border-slate-200">Management</th>
                                </tr>
                            </thead>
                            <tbody id="apiIntegrationTableBody">
                                <!-- API data will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <p class="text-sm text-slate-500 mt-4">Note: Key/Credential Details are securely managed within the FAA‚Ñ¢ Cosmogrid and are not displayed here for security purposes.</p>
                    <button class="mt-6 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors" onclick="showMessage('Simulating: Launching New Integration Wizard...', 'info')">Add New Integration</button>
                    <button class="mt-6 bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors ml-2" onclick="showMessage('Simulating: Running All Connection Tests...', 'info')">Test All Connections</button>
                `,
                data: [
                    {
                        service: "PayPal (SDK)",
                        embedded_locations: "Various checkout scrolls, main-app, fruitful-dashboard-v4, global_checkout_form",
                        actions: "Secure Checkout, Automated Payouts, Banimal‚Ñ¢ Loop Plan",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests PayPal SDK connection"},
                            {name: "Deactivate", action: "Deactivates PayPal SDK integration"}
                        ]
                    },
                    {
                        service: "PayPal (Hosted Button) ((Starter Package))",
                        embedded_locations: "HotStack‚Ñ¢, Various landing pages, main-app, fruitful-dashboard-v4",
                        actions: "Secure Checkout, Automated Payouts",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests PayPal Hosted Button (Starter) connection"},
                            {name: "Deactivate", action: "Deactivates PayPal Hosted Button (Starter) integration"}
                        ]
                    },
                    {
                        service: "Google Maps",
                        embedded_locations: "Location-based microsites, main-app, fruitful-dashboard-v4",
                        actions: "Visualizing Vendor Genome ID‚Ñ¢ deployment, Mapping Crate Sync events, Optimizing logistics routes",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Google Maps API connection"},
                            {name: "Deactivate", action: "Deactivates Google Maps integration"}
                        ]
                    },
                    {
                        service: "Spotify (Access Token)",
                        embedded_locations: "Music/media scrolls, main-app, fruitful-dashboard-v4",
                        actions: "Music Aura Systems, Motion/Media/Sonic Sector, EchoSynth‚Ñ¢ operations",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Spotify API connection"},
                            {name: "Deactivate", action: "Deactivates Spotify integration"}
                        ]
                    },
                    {
                        service: "Gemini AI",
                        embedded_locations: "AI-powered insights scrolls, Baobab Terminal, main-app, fruitful-dashboard-v4",
                        actions: "Compensation AI Forecast Node, Smart Salary Optimizer‚Ñ¢, AI Compliance Monitoring, CosmoGenesis SIM CITY, Monster Omni‚Ñ¢",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Gemini AI connection"},
                            {name: "Deactivate", action: "Deactivates Gemini AI integration"}
                        ]
                    },
                    {
                        service: "Xero (Client ID)",
                        embedded_locations: "Accounting/payroll integration scrolls, main-app",
                        actions: "Legacy System Sync, Audit Trail Integration, Partner Sync & NGO Logic",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Xero Client ID connection"},
                            {name: "Deactivate", action: "Deactivates Xero Client ID integration"}
                        ]
                    },
                    {
                        service: "Xero (Webhook Key)",
                        embedded_locations: "Accounting/payroll integration scrolls, main-app",
                        actions: "Secure, authenticated communication for real-time updates",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Xero Webhook connection"},
                            {name: "Deactivate", action: "Deactivates Xero Webhook integration"}
                        ]
                    },
                     {
                        service: "Salesforce (CRM)",
                        embedded_locations: "Sales & CRM insights, main-app",
                        actions: "Automated Lead-to-Payroll Conversion, Sales Commission Sync",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Salesforce CRM connection"},
                            {name: "Deactivate", action: "Deactivates Salesforce CRM integration"}
                        ]
                    },
                    {
                        service: "Stripe (Payment Gateway)",
                        embedded_locations: "Global Payments, Subscription Management",
                        actions: "Direct Payouts, Automated Billing, Micro-transactions",
                        status: "Active",
                        management_actions: [
                            {name: "Test Connection", action: "Tests Stripe Payment Gateway connection"},
                            {name: "Deactivate", action: "Deactivates Stripe integration"}
                        ]
                    }
                ]
            },
            <!-- START OF INTEGRATED PAGES -->
            {
                id: "payroll-master-index",
                title: "üß¨ FAA‚Ñ¢ Payroll OS ‚Äî Master Index",
                icon: "üß¨",
                description: "The central hub for navigating all core payroll functionalities, AI modules, intelligence insights, and global metrics within the FAA‚Ñ¢ Payroll OS.",
                content: `
                    <section class="py-16 px-6 bg-black text-center text-white">
                        <h2 class="text-3xl font-bold text-purple-400 mb-10">üìù Explore Key Payroll Pages</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
                            <a href="#" data-page="payroll-features" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-features')">üîß Core Features</a>
                            <a href="#" data-page="payroll-ai-modules" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-ai-modules')">ü§ñ AI Modules</a>
                            <a href="#" data-page="payroll-intelligence-hub" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-intelligence-hub')">üìà Intelligence Hub</a>
                            <a href="#" data-page="payroll-global-metrics" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-global-metrics')">üåç Global Metrics</a>
                            <a href="#" data-page="payroll-contact" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-contact')">üì¨ Contact + Compliance</a>
                            <a href="#" data-page="payroll-quantum-dashboard" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-quantum-dashboard')">üßÆ Payroll Dashboard</a>
                            <a href="#" data-page="payroll-products-services" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-products-services')">üß∞ Explore Features</a>
                            <a href="#" data-page="payroll-onboarding" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-onboarding')">üì• Onboarding Portal</a>
                            <a href="#" onclick="showMessage('Simulating: Navigating to global checkout...', 'info')" class="text-lg font-semibold text-white border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition">üîê Vault Checkout</a>
                        </div>
                    </section>

                    <section class="bg-gradient-to-br from-purple-800 via-indigo-900 to-black text-center py-32 px-6 text-white">
                        <h1 class="text-5xl md:text-7xl font-black leading-tight mb-6">Empower Global Payroll</h1>
                        <p class="text-lg max-w-2xl mx-auto opacity-80">
                            Real-time payroll logic, shift sync, AI fraud detection, payslip automation and vault trace routing ‚Äî all under one system.
                        </p>
                        <div class="mt-10 flex justify-center gap-4">
                            <button class="bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg text-lg font-semibold" onclick="renderPage('payroll-quantum-dashboard')">Launch Dashboard</button>
                            <button class="border border-white hover:bg-white hover:text-black text-white px-6 py-3 rounded-lg text-lg font-semibold" onclick="renderPage('payroll-products-services')">Explore Features</button>
                        </div>
                    </section>

                    <section id="features" class="py-24 px-6 bg-black text-center text-white">
                        <h2 class="text-3xl font-bold text-purple-400 mb-12">üìå Core Features</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto text-left text-sm">
                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-900">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üìü Payslip Engine</h3>
                                <p>Generate monthly payslips, tax summaries, QR exports, and ledger links with zero human input.</p>
                            </div>
                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-900">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">‚è± ShiftSync Grid</h3>
                                <p>Log shifts, calculate time drift, detect overloads and integrate approval chains across teams.</p>
                            </div>
                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-900">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üìä CTC Tracker AI</h3>
                                <p>Evaluate CTC packages versus role logic, bonus structure and compliance expectations in real time.</p>
                            </div>
                        </div>
                    </section>

                    <section id="ai" class="py-24 px-6 bg-gray-950 text-center text-white">
                        <h2 class="text-3xl font-bold text-purple-400 mb-12">üß† AI Modules</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-6xl mx-auto text-left text-sm">
                            <div class="bg-black border border-purple-800 p-6 rounded-xl">
                                <h3 class="text-lg font-bold mb-2">VaultMesh Sync</h3>
                                <p>Enforces immutable trace logs, verifies vault paths and confirms scroll IDs every 9 seconds.</p>
                            </div>
                            <div class="bg-black border border-purple-800 p-6 rounded-xl">
                                <h3 class="text-lg font-bold mb-2">Drift + Ghost Flags</h3>
                                <p>Real-time fraud mesh triggers: detects ghost shifts, under-hour anomalies, and policy bypasses.</p>
                            </div>
                            <div class="bg-black border border-purple-800 p-6 rounded-xl">
                                <h3 class="text-lg font-bold mb-2">Brand Bind Scrolls</h3>
                                <p>Link staff to cost centers, performance metrics and contract terms across FAA-licensed brands.</p>
                            </div>
                        </div>
                    </section>

                    <section id="intelligence" class="bg-gradient-to-b from-black via-gray-900 to-gray-950 text-white px-6 py-24 text-center">
                        <div class="max-w-6xl mx-auto">
                            <h2 class="text-4xl font-extrabold text-purple-400 mb-10">üß† FAA Payroll Intelligence Hub</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-20 text-sm text-left">
                                <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                                    <h3 class="text-lg font-bold text-purple-300 mb-2">CTC vs Role Index</h3>
                                    <p>Auto-match current salaries with dynamic role expectations and industry bands using the FAA CTC Tracker GPT.</p>
                                </div>
                                <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                                    <h3 class="text-lg font-bold text-purple-300 mb-2">Drift Score</h3>
                                    <p>Calculates deviations from contractual hours, early-outs, and lateness to detect time drift anomalies in real-time.</p>
                                </div>
                                <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                                    <h3 class="text-lg font-bold text-purple-300 mb-2">Fraud Mesh Sync</h3>
                                    <p>Syncs with VaultMesh to surface duplicate time entries, under-hour red flags, and ghost shifts.</p>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gray-800 via-black to-gray-800 p-10 rounded-xl shadow-xl">
                                <h3 class="text-2xl font-bold text-white mb-4">üìà Role-to-Pay Real-Time Analyzer</h3>
                                <p class="text-sm opacity-80 mb-8 max-w-3xl mx-auto">
                                    Enter any job title and FAA will scan salary scrolls, team clusters, shift GPA, and bonus history to validate if the compensation path aligns with role demands.
                                </p>
                                <form class="flex flex-col sm:flex-row gap-4 justify-center max-w-3xl mx-auto">
                                    <input type="text" placeholder="e.g. Senior Payroll Auditor" class="px-5 py-3 rounded-lg bg-gray-900 text-white border border-gray-700 w-full sm:w-auto" />
                                    <button type="button" class="bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg text-sm font-semibold" onclick="showMessage('Simulating: Scanning Compensation Grid...', 'info')">Scan Compensation Grid</button>
                                </form>
                            </div>
                        </div>
                    </section>

                    <section id="global" class="bg-white text-gray-800 px-6 py-24">
                        <div class="max-w-6xl mx-auto text-center">
                            <h2 class="text-4xl font-bold text-purple-600 mb-12">üåç Extended FAA Payroll Metrics + Activation Map</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-20">
                                <div class="bg-white p-6 border border-purple-300 rounded-lg shadow">
                                    <h3 class="text-lg font-bold text-purple-700 mb-2">Vendor Retention</h3>
                                    <p>96% stay post-onboarding (3 month avg.)</p>
                                </div>
                                <div class="bg-white p-6 border border-purple-300 rounded-lg shadow">
                                    <h3 class="text-lg font-bold text-purple-700 mb-2">Automation Coverage</h3>
                                    <p>100% scroll-linked, zero manual override nodes.</p>
                                </div>
                                <div class="bg-white p-6 border border-purple-300 rounded-lg shadow">
                                    <h3 class="text-lg font-bold text-purple-700 mb-2">Legal Compliance Zones</h3>
                                    <p>Active in 3 FAA-certified sovereign jurisdictions.</p>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 via-white to-indigo-100 p-10 rounded-xl shadow-xl">
                                <h3 class="text-2xl font-bold text-indigo-800 mb-4">üåê Global Activation Map</h3>
                                <p class="text-sm text-gray-600 mb-6 max-w-3xl mx-auto">FAA‚Ñ¢ Payroll deployed in 19 zones. Automated FCU conversion & Scroll export protocols active. This placeholder will render geographic map updates.</p>
                                <div class="bg-white rounded shadow p-6 text-sm text-purple-700">üìç FAA World Grid Map Placeholder</div>
                            </div>
                        </div>
                    </section>

                    <section class="bg-indigo-950 text-white py-20 text-center">
                        <h2 class="text-3xl font-bold text-purple-300 mb-6">Ready to Onboard a Sector?</h2>
                        <p class="text-sm opacity-80 mb-10">Tap into sovereign payroll logic. Deploy instantly to DAOs, NGOs, and education grids.</p>
                        <button class="bg-purple-600 hover:bg-purple-500 px-6 py-3 rounded-lg text-sm font-bold" onclick="renderPage('payroll-onboarding')">üì• Begin FAA Grid Sync</button>
                    </section>

                    <footer id="footer" class="text-center text-xs text-gray-500 mt-16 py-6 border-t border-purple-800">
                        FAA‚Ñ¢ VaultMesh | Trace ID Verified | FCU Linked | Grid Expansion Certified
                    </footer>
                `
            },
            {
                id: "payroll-portal-landing",
                title: "ü™ô Payroll Core Systems | FAA‚Ñ¢",
                icon: "ü™ô",
                description: "The sovereign nucleus of FAA's payroll mesh, routing engine logs, AI logic, payslip maps, and ledger sync zones.",
                content: `
                    <section class="bg-gradient-to-br from-purple-900 via-black to-gray-950 text-center py-28 px-6 text-white">
                        <h1 class="text-6xl font-extrabold text-purple-400 mb-4">ü™ô Payroll Core Grid</h1>
                        <p class="text-lg text-gray-300 max-w-2xl mx-auto">Welcome to the sovereign nucleus of FAA's payroll mesh ‚Äî engine logs, AI logic, payslip maps, and ledger sync zones all route from this core.</p>
                    </section>

                    <section class="bg-purple-900 text-white text-center py-8">
                        <h2 class="text-2xl font-bold mb-2">‚úÖ SaaS License Active</h2>
                        <p class="text-sm opacity-80">Welcome, your payroll mesh is now live. Vault sync and ShiftGrid operations are enabled under your registered Trace ID.</p>
                    </section>
                    
                    <section class="py-16 px-6 text-center text-white">
                        <h2 class="text-3xl font-bold text-purple-300 mb-10">üöÄ Quick Navigation</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
                            <a href="#" data-page="payroll-products-services" class="text-lg font-semibold border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-products-services')">üß∞ Feature Explorer</a>
                            <a href="#" data-page="payroll-intelligence-hub" class="text-lg font-semibold border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-intelligence-hub')">üìä Payroll Intelligence</a>
                            <a href="#" data-page="payroll-onboarding" class="text-lg font-semibold border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-onboarding')">üì• Start Onboarding</a>
                            <a href="#" data-page="payroll-welcome-dashboard" class="text-lg font-semibold border border-purple-600 rounded-lg py-4 px-6 hover:bg-purple-600 transition" onclick="renderPage('payroll-welcome-dashboard')">üîê Client Dashboard</a>
                        </div>
                    </section>

                    <section class="bg-black text-left px-8 py-24 max-w-6xl mx-auto text-white">
                        <h2 class="text-3xl font-bold text-purple-400 mb-10">üì¶ Core System Modules</h2>
                        <ul class="space-y-6 text-sm text-white/80">
                            <li><strong>VaultMesh Link:</strong> Live scroll ledger linkage, shift GPA processing and payslip QR sync.</li>
                            <li><strong>ScrollNode Sync:</strong> Auto-validates shift duration, pay logic, and bonus deltas in near real-time.</li>
                            <li><strong>Fraud Flag AI:</strong> Ghost shift checker, IP cross validator and vault time mirror trace.</li>
                            <li><strong>Org Matrix Visual:</strong> Departmental node maps, GPA-based drift alerts and audit balance.</li>
                            <li><strong>Export Engine:</strong> Push ledger packages, payslip PDFs and governance bundle zip formats.</li>
                        </ul>
                    </section>

                    <section class="bg-black text-white py-20 px-6 text-center">
                        <h2 class="text-4xl font-extrabold text-purple-400 mb-6">üìà Client Dashboard Access</h2>
                        <p class="text-lg max-w-2xl mx-auto text-gray-400 mb-10">
                            Launch your FAA‚Ñ¢ real-time payroll dashboard. Access shift logs, payslip records, vault status and more.
                        </p>
                        <button class="inline-block bg-purple-600 hover:bg-purple-500 text-white font-semibold text-lg px-8 py-4 rounded-xl transition transform hover:-translate-y-1 hover:scale-105 shadow-lg" onclick="renderPage('payroll-welcome-dashboard')">
                            üìÅ Launch Client Dashboard
                        </button>
                    </section>

                    <footer class="text-center py-8 text-xs text-gray-500 border-t border-purple-800">
                        FAA‚Ñ¢ Core Payroll Mesh | Sovereign Grid | Synced to TreatyMesh‚Ñ¢ | Trace ID Active
                    </footer>
                `
            },
            {
                id: "payroll-welcome-dashboard",
                title: "üìä FAA Payroll Dashboard ‚Äî Real-Time Ops",
                icon: "üìä",
                description: "Live Grid ‚Ä¢ Role Vault Sync ‚Ä¢ FAA Time Drift Engine. Your client-facing dashboard for payroll operations.",
                content: `
                    <header class="bg-white shadow p-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-3xl font-extrabold text-indigo-700">üìä FAA Payroll OS ‚Äì Shift + CTC Dashboard</h1>
                            <p class="text-sm text-gray-500">Live Grid ‚Ä¢ Role Vault Sync ‚Ä¢ FAA Time Drift Engine</p>
                        </div>
                        <div class="flex gap-3 text-sm">
                            <button class="px-4 py-2 bg-blue-500 text-white rounded" onclick="showMessage('Simulating: Navigating to Home...', 'info')">Home</button>
                            <button class="px-4 py-2 bg-gray-600 text-white rounded" onclick="renderPage('payroll-features')">Features</button>
                            <button class="px-4 py-2 bg-green-600 text-white rounded" onclick="renderPage('payroll-contact')">Support</button>
                        </div>
                    </header>

                    <nav class="bg-gray-100 flex gap-6 px-6 py-3 text-sm overflow-x-auto whitespace-nowrap">
                        <a href="#overview" class="text-indigo-700 font-semibold hover:-translate-y-1 hover:scale-105" onclick="showMessage('Simulating: Scrolling to Overview...', 'info')">üèÅ Overview</a>
                        <a href="#ctc-flow" class="hover:text-indigo-600 hover:-translate-y-1 hover:scale-105" onclick="showMessage('Simulating: Scrolling to CTC Flow...', 'info')">üí∞ CTC Flow</a>
                        <a href="#shifts" class="hover:text-indigo-600 hover:-translate-y-1 hover:scale-105" onclick="showMessage('Simulating: Scrolling to Shift Logs...', 'info')">üïí Shift Logs</a>
                        <a href="#alerts" class="hover:text-indigo-600 hover:-translate-y-1 hover:scale-105" onclick="showMessage('Simulating: Scrolling to Risk Alerts...', 'info')">‚ö†Ô∏è Risk Alerts</a>
                        <a href="#charts" class="hover:text-indigo-600 hover:-translate-y-1 hover:scale-105" onclick="showMessage('Simulating: Scrolling to Trend Visuals...', 'info')">üìà Trend Visuals</a>
                        <a href="#vault" class="hover:text-indigo-600 hover:-translate-y-1 hover:scale-105" onclick="showMessage('Simulating: Scrolling to Vault Status...', 'info')">üîê Vault Status</a>
                    </nav>

                    <section class="w-full px-6 pt-10">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                            <div class="bg-white rounded shadow p-4 text-center hover:bg-indigo-50 transition">
                                <h3 class="text-md font-bold text-gray-700">üßû Total Payslips</h3>
                                <p class="mt-1 font-semibold text-indigo-600 text-lg">18,392</p>
                            </div>
                            <div class="bg-white rounded shadow p-4 text-center hover:bg-indigo-50 transition">
                                <h3 class="text-md font-bold text-gray-700">‚öôÔ∏è Vaults Active</h3>
                                <p class="mt-1 font-semibold text-indigo-600 text-lg">94%</p>
                            </div>
                            <div class="bg-white rounded shadow p-4 text-center hover:bg-indigo-50 transition">
                                <h3 class="text-md font-bold text-gray-700">‚è± Drift Events</h3>
                                <p class="mt-1 font-semibold text-red-600 text-lg">412</p>
                            </div>
                            <div class="bg-white rounded shadow p-4 text-center hover:bg-indigo-50 transition">
                                <h3 class="text-md font-bold text-gray-700">üíµ Avg. CTC Delta</h3>
                                <p class="mt-1 font-semibold text-green-600 text-lg">+R2,081</p>
                            </div>
                        </div>
                    </section>

                    <section id="shifts" class="w-full px-6 pt-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded shadow">
                                <h3 class="text-lg font-bold text-gray-700">üïí Shift Overlap Timeline</h3>
                                <p class="text-sm text-gray-500">Detects shift misalignment, ghost overlaps, and break drift zones.</p>
                                <div class="h-72 mt-4">
                                    <canvas id="shiftTimelineChart" class="w-full h-full"></canvas>
                                </div>
                            </div>

                            <div class="bg-white p-6 rounded shadow">
                                <h3 class="text-lg font-bold text-gray-700">üí∞ CTC Drift Matrix</h3>
                                <p class="text-sm text-gray-500">Heatmap of total monthly drift vs contractual expected values.</p>
                                <div class="h-72 mt-4">
                                    <canvas id="ctcDriftChart" class="w-full h-full"></canvas>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="charts" class="w-full px-6 pt-12 pb-16">
                        <div class="bg-white p-6 rounded shadow">
                            <h2 class="text-xl font-bold text-gray-700">üìâ Payroll Flow Chart</h2>
                            <div class="h-96 mt-4">
                                <canvas id="payrollChart"></canvas>
                            </div>
                        </div>
                    </section>

                    <footer class="text-center text-xs text-gray-400 mt-16 py-6 border-t">
                        FAA.Zone Payroll Grid ¬∑ VaultSynced ¬∑ Compliant ‚í≤ 2025
                    </footer>
                `,
                charts: [
                    {
                        id: 'payrollChart',
                        type: 'line',
                        data: {
                            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                            datasets: [
                                {
                                    label: 'Total Payout (Rands)',
                                    data: [18200000, 19100000, 19750000, 20300000, 21100000, 22400000],
                                    borderColor: 'rgba(99,102,241,1)',
                                    fill: false,
                                    tension: 0.4
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'bottom' }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: { callback: v => 'R' + v.toLocaleString() }
                                }
                            }
                        }
                    },
                    {
                        id: 'shiftTimelineChart',
                        type: 'bar',
                        data: {
                            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                            datasets: [{
                                label: 'Shift Overlaps',
                                data: [5, 2, 8, 3, 6, 1, 4],
                                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                                borderColor: 'rgba(75, 192, 192, 1)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: { y: { beginAtZero: true } }
                        }
                    },
                    {
                        id: 'ctcDriftChart',
                        type: 'line',
                        data: {
                            labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                            datasets: [{
                                label: 'CTC Drift (Rands)',
                                data: [1500, -500, 2000, 800],
                                borderColor: 'rgba(255, 99, 132, 1)',
                                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                fill: true,
                                tension: 0.4
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { position: 'bottom' } },
                            scales: { y: { beginAtZero: true } }
                        }
                    }
                ]
            },
            {
                id: "payroll-features",
                title: "üçáFruitful‚Ñ¢ Dashboard ‚Äì Features | FAA.Zone",
                icon: "üçá",
                description: "Comprehensive Payroll Features ‚Ä¢ Real-time Automation ‚Ä¢ FAA VaultMesh‚Ñ¢. Explore the core features of the Fruitful‚Ñ¢ Payroll OS.",
                content: `
                    <header class="bg-white shadow p-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-3xl font-extrabold text-indigo-700">üçá Fruitful‚Ñ¢ Dashboard ‚Äì Features</h1>
                            <p class="text-sm text-gray-500">Comprehensive Payroll Features ‚Ä¢ Real-time Automation ‚Ä¢ FAA VaultMesh‚Ñ¢</p>
                        </div>
                        <div class="flex gap-3 text-sm">
                            <button class="px-4 py-2 bg-blue-500 text-white rounded" onclick="showMessage('Simulating: Navigating to Home...', 'info')">Home</button>
                            <button class="px-4 py-2 bg-gray-600 text-white rounded" onclick="renderPage('payroll-ai-modules')">AI Modules</button>
                            <button class="px-4 py-2 bg-green-600 text-white rounded" onclick="renderPage('payroll-contact')">Support</button>
                        </div>
                    </header>

                    <nav class="bg-gray-100 flex gap-6 px-6 py-3 text-sm overflow-x-auto whitespace-nowrap">
                        <a href="#payslip" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Payslip Engine...', 'info')">Payslip Engine</a>
                        <a href="#shiftsync" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to ShiftSync...', 'info')">ShiftSync</a>
                        <a href="#ctc-tracker" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to CTC Tracker...', 'info')">CTC Tracker</a>
                        <a href="#ghost-detection" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Ghost Detection...', 'info')">Ghost Detection</a>
                        <a href="#brand-binds" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Brand Binds...', 'info')">Brand Binds</a>
                        <a href="#role-analyzer" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Role Analyzer...', 'info')">Role Analyzer</a>
                        <a href="#vault-entry" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Vault Entry...', 'info')">Vault Entry</a>
                        <a href="#vaultmesh-sync" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to VaultMesh...', 'info')">VaultMesh</a>
                        <a href="#org-matrix" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Org Matrix...', 'info')">Org Matrix</a>
                        <a href="#report-export" class="hover:text-indigo-600" onclick="showMessage('Simulating: Scrolling to Reports...', 'info')">Reports</a>
                    </nav>

                    <div class="container mx-auto max-w-screen-2xl px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mt-8">
                        <div class="bg-white shadow rounded-lg p-6" id="payslip">
                            <h2 class="text-lg font-bold text-indigo-700">Payslip Engine</h2>
                            <p class="text-sm mt-2">Auto-generates gross/net, tax, ledger exports, QR signed reports.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Viewing Payslip Module...', 'info')">View Module</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="shiftsync">
                            <h2 class="text-lg font-bold text-indigo-700">ShiftSync Grid</h2>
                            <p class="text-sm mt-2">Tracks late shifts, PTO, overtime with ledger binding + drift flags.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Exploring ShiftSync...', 'info')">Explore</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="ctc-tracker">
                            <h2 class="text-lg font-bold text-indigo-700">CTC Tracker AI</h2>
                            <p class="text-sm mt-2">Validates band logic, compares regions, grades, and pay thresholds.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Opening CTC Tracker...', 'info')">Open Tracker</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="ghost-detection">
                            <h2 class="text-lg font-bold text-indigo-700">Drift + Ghost Detection</h2>
                            <p class="text-sm mt-2">Detects ghost users, shift anomalies, and under-hour fraud flags.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Analyzing Drift...', 'info')">Analyze Drift</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="brand-binds">
                            <h2 class="text-lg font-bold text-indigo-700">Brand Bind Scrolls</h2>
                            <p class="text-sm mt-2">Connects roles to cost centers and metrics across FAA terms.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Binding Now...', 'info')">Bind Now</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="role-analyzer">
                            <h2 class="text-lg font-bold text-indigo-700">Role-to-Pay Analyzer</h2>
                            <p class="text-sm mt-2">Maps titles to pay bands, compares bonus logic with GPA sync.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Running Analyzer...', 'info')">Run Analyzer</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="vault-entry">
                            <h2 class="text-lg font-bold text-indigo-700">Vault Entry Logs Access</h2>
                            <p class="text-sm mt-2">Audit logs, vault trails, scroll chains, and CTC export records.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Viewing Logs...', 'info')">View Logs</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="vaultmesh-sync">
                            <h2 class="text-lg font-bold text-indigo-700">VaultMesh Sync</h2>
                            <p class="text-sm mt-2">Scroll-level validation cycles, 9-second syncs, and immutable bindings.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Vault Sync...', 'info')">Vault Sync</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="org-matrix">
                            <h2 class="text-lg font-bold text-indigo-700">Org Role Matrix</h2>
                            <p class="text-sm mt-2">Maps GPA zones to department shifts and bonus grid compliance.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Opening Matrix...', 'info')">Open Matrix</button>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6" id="report-export">
                            <h2 class="text-lg font-bold text-indigo-700">Exportable Reports</h2>
                            <p class="text-sm mt-2">CTC scrolls, JSON exports, bonus grid logs, and ledger sheets.</p>
                            <button class="mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Downloading Reports...', 'info')">Download</button>
                        </div>
                    </div>

                    <section class="mt-16 text-center">
                        <p class="text-xs text-gray-500">Powered by FAA‚Ñ¢ Atom-Level Payroll Core ‚Ä¢ ScrollSync v9.3 ‚Ä¢ Vault Echo Certified ‚Ä¢ Last Sync: 12s ago</p>
                    </section>
                `
            },
            {
                id: "payroll-products-services",
                title: "üçá FAA‚Ñ¢ Payroll ‚Äì Sub-Features",
                icon: "üß∞",
                description: "Explore the detailed sub-features of FAA‚Ñ¢ Payroll, including Payslip Engine, ShiftSync Grid, CTC Logic AI, and Vault Security.",
                content: `
                    <header class="flex justify-between items-center px-8 py-5 bg-gray-950 border-b border-purple-800 sticky top-0 z-50 text-white">
                        <div class="text-2xl font-black tracking-tight text-white">üçá Fruitful‚Ñ¢ Payroll OS</div>
                        <nav class="hidden md:flex space-x-8 text-sm font-semibold">
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-features')">Features</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-ai-modules')">AI Modules</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-intelligence-hub')">Intelligence</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-global-metrics')">Global Metrics</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-contact')">Contact</button>
                        </nav>
                        <button class="bg-white text-black font-bold px-4 py-2 rounded-lg text-sm" onclick="showMessage('Simulating: Entering Global Checkout...', 'info')">Enter</button>
                    </header>

                    <section class="py-24 px-6 bg-black text-center text-white">
                        <h1 class="text-4xl font-extrabold text-purple-400 mb-12">üß∞ Explore FAA‚Ñ¢ Payroll Sub-Features</h1>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 max-w-7xl mx-auto text-left text-sm">

                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-800 hover:border-purple-500 transition">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üìü Payslip Engine</h3>
                                <p>Auto-generates payslips with QR trace, ledger sync, and tax overlay. No manual input required.</p>
                            </div>

                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-800 hover:border-purple-500 transition">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">‚è± ShiftSync Grid</h3>
                                <p>Live shift logging, real-time approvals, and compliance alerts integrated into vault tracking.</p>
                            </div>

                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-800 hover:border-purple-500 transition">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üìä CTC Logic AI</h3>
                                <p>Evaluates role-based compensation, GPA, and historical performance alignment across scrolls.</p>
                            </div>

                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-800 hover:border-purple-500 transition">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üõ°Ô∏è Vault Security</h3>
                                <p>Immutable records. ScrollNode locking. FCU-integrated with treaty-certified jurisdictional logic.</p>
                            </div>

                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-800 hover:border-purple-500 transition">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üîç Audit Trail Sync</h3>
                                <p>Instant download of vault logs, fraud flag history, and node interaction maps.</p>
                            </div>

                            <div class="bg-gray-900 p-6 rounded-lg border border-purple-800 hover:border-purple-500 transition">
                                <h3 class="text-lg font-bold text-purple-300 mb-2">üß† Brand Bind Scrolls</h3>
                                <p>Cross-brand HR logic binding for distributed teams, cost centers and compliance synchronization.</p>
                            </div>
                        </div>

                        <div class="mt-16">
                            <button class="bg-purple-600 hover:bg-purple-500 text-white px-8 py-4 rounded-lg text-lg font-semibold transition" onclick="renderPage('payroll-onboarding')">üì• Start Onboarding Now</button>
                        </div>
                    </section>

                    <section class="py-20 px-6 bg-gray-950 text-left text-sm max-w-5xl mx-auto text-gray-300">
                        <h2 class="text-2xl font-bold text-purple-400 mb-6">Understanding Each Feature (For Non-Tech Users)</h2>
                        <ul class="space-y-6">
                            <li><strong>üìü Payslip Engine:</strong> Automatically creates detailed salary slips every month. No spreadsheets or manual calculations. Each slip includes secure QR codes for easy verification.</li>
                            <li><strong>‚è± ShiftSync Grid:</strong> Lets teams clock in/out digitally while tracking hours worked. Managers can approve changes live and be notified of any irregular work patterns instantly.</li>
                            <li><strong>üìä CTC Logic AI:</strong> A smart tool that checks if salaries match job roles fairly, based on historical data, bonuses, and job requirements.</li>
                            <li><strong>üõ°Ô∏è Vault Security:</strong> All payroll records are locked in secure digital vaults that can't be changed without leaving a trace. This ensures full audit compliance in every country where FAA operates.</li>
                            <li><strong>üîç Audit Trail Sync:</strong> Shows who did what and when inside the payroll system. You can download a report of all user actions to keep your processes transparent.</li>
                            <li><strong>üß† Brand Bind Scrolls:</strong> Perfect for businesses operating across different brands. It keeps payroll and HR rules synchronized no matter where your employees are placed.</li>
                        </ul>
                    </section>

                    <footer class="text-center py-8 text-xs text-gray-500 border-t border-purple-800">
                        FAA‚Ñ¢ VaultMesh | Scroll Synced | Node Certified | Treaty Locked
                    </footer>
                `
            },
            {
                id: "payroll-ai-modules",
                title: "ü§ñ FAA Payroll OS ‚Äî AI Modules",
                icon: "ü§ñ",
                description: "Next-gen Payroll AI Engines ‚Ä¢ Real-time Intelligence Layers ‚Ä¢ FAA Neural Grid. Explore predictive compliance and ScrollMesh AI Logic‚Ñ¢.",
                content: `
                    <header class="bg-white shadow p-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-3xl font-extrabold text-indigo-700">ü§ñ FAA Payroll OS ‚Äî AI Modules</h1>
                            <p class="text-sm text-gray-500">Next-gen Payroll AI Engines ‚Ä¢ Real-time Intelligence Layers ‚Ä¢ FAA Neural Grid</p>
                        </div>
                        <div class="flex gap-3 text-sm">
                            <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="showMessage('Simulating: Navigating to Home...', 'info')">Home</button>
                            <button class="px-4 py-2 bg-gray-600 text-white rounded" onclick="renderPage('payroll-contact')">Contact</button>
                            <button class="px-4 py-2 bg-green-600 text-white rounded" onclick="renderPage('payroll-onboarding')">Onboard</button>
                        </div>
                    </header>

                    <section class="bg-gradient-to-r from-purple-700 to-indigo-800 text-white py-16 text-center">
                        <h2 class="text-4xl font-bold">Explore FAA AI‚Ñ¢ Modules</h2>
                        <p class="mt-4 max-w-2xl mx-auto text-lg opacity-90">
                            Intelligence Engines ‚Ä¢ Predictive Compliance ‚Ä¢ ScrollMesh AI Logic‚Ñ¢
                        </p>
                    </section>

                    <section class="py-12 px-6 max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                        <div class="bg-white p-6 rounded shadow block hover:shadow-lg transition-all">
                            <h3 class="text-xl font-semibold text-purple-700">üìä PayPredict AI</h3>
                            <p class="text-sm text-gray-600 mt-2">Forecasts salary trends, seasonal bonuses, and contractual irregularities using historical FAA data and market syncs.</p>
                            <button class="text-sm text-gray-500 mt-4 italic" onclick="showMessage('Simulating: Launching PayPredict AI...', 'info')">Launch</button>
                            <canvas id="payPredictChart" class="mt-4"></canvas>
                        </div>

                        <div class="bg-white p-6 rounded shadow block hover:shadow-lg transition-all">
                            <h3 class="text-xl font-semibold text-purple-700">üîç ScrollSentinel</h3>
                            <p class="text-sm text-gray-600 mt-2">AI surveillance across payslips, ghost patterns, unauthorized overrides and noncompliant vault entries.</p>
                            <button class="text-sm text-gray-500 mt-4 italic" onclick="showMessage('Simulating: Running ScrollSentinel Scan...', 'info')">Run Scan</button>
                            <ul class="mt-4 text-sm text-gray-500 list-disc list-inside">
                                <li>Ghost Shift Alerts: <span class="text-red-600 font-semibold">Active</span></li>
                                <li>Override Watch: <span class="text-green-600 font-semibold">Clean</span></li>
                                <li>CTC Signature Drift: <span class="text-yellow-600 font-semibold">2 anomalies</span></li>
                            </ul>
                        </div>

                        <div class="bg-white p-6 rounded shadow block hover:shadow-lg transition-all">
                            <h3 class="text-xl font-semibold text-purple-700">ü§ñ BonusLogic Core</h3>
                            <p class="text-sm text-gray-600 mt-2">Analyzes payout eligibility, performance triggers, threshold logic, and enforces role-specific bonus compliance grids.</p>
                            <button class="text-sm text-gray-500 mt-4 italic" onclick="showMessage('Simulating: Analyzing BonusLogic...', 'info')">Analyze</button>
                            <canvas id="bonusLogicChart" class="mt-4"></canvas>
                        </div>

                        <div class="bg-white p-6 rounded shadow block hover:shadow-lg transition-all">
                            <h3 class="text-xl font-semibold text-purple-700">üìå TimeDrift Mapper</h3>
                            <p class="text-sm text-gray-600 mt-2">Visualizes anomalies in shift logs, breaks, drift accumulation and cross-role time misalignment detection.</p>
                            <button class="text-sm text-gray-500 mt-4 italic" onclick="showMessage('Simulating: Mapping TimeDrift...', 'info')">Map Drift</button>
                            <canvas id="timeDriftChart" class="mt-4"></canvas>
                        </div>
                    </section>

                    <section class="mt-16 text-center">
                        <p class="text-xs text-gray-500">FAA‚Ñ¢ NeuralGrid Engines ‚Ä¢ Vault AI Compliance ‚Ä¢ Last AI Sync: 8s ago</p>
                    </section>
                `,
                charts: [
                    {
                        id: 'payPredictChart',
                        type: 'line',
                        data: {
                            labels: ['Jan', 'Feb', 'Mar', 'Apr'],
                            datasets: [{ label: 'Projected Growth', data: [3200, 4000, 4500, 4900], borderColor: '#6B21A8', borderWidth: 2 }]
                        },
                        options: { responsive: true, plugins: { legend: { display: false } } }
                    },
                    {
                        id: 'bonusLogicChart',
                        type: 'bar',
                        data: {
                            labels: ['Team A', 'Team B', 'Team C'],
                            datasets: [{ label: 'Bonus Trigger Rate', data: [70, 85, 60], backgroundColor: '#7C3AED' }]
                        },
                        options: { responsive: true, plugins: { legend: { display: false } } }
                    },
                    {
                        id: 'timeDriftChart',
                        type: 'doughnut',
                        data: {
                            labels: ['Aligned', 'Drifted'],
                            datasets: [{ label: 'Drift Status', data: [80, 20], backgroundColor: ['#10B981', '#EF4444'] }]
                        },
                        options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
                    }
                ]
            },
            {
                id: "payroll-intelligence-hub",
                title: "üìà FAA Payroll OS ‚Äî Intelligence Hub",
                icon: "üß†",
                description: "Live Metrics ‚Ä¢ Shift Risk Index ‚Ä¢ Vault Reporting Grid. Real-Time Scroll Performance ‚Ä¢ Anomaly Detection ‚Ä¢ Departmental Drift Dashboards.",
                content: `
                    <header class="bg-white shadow p-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-3xl font-extrabold text-indigo-700">üìà FAA Payroll OS ‚Äî Intelligence Hub</h1>
                            <p class="text-sm text-gray-500">Live Metrics ‚Ä¢ Shift Risk Index ‚Ä¢ Vault Reporting Grid</p>
                        </div>
                        <div class="flex gap-3 text-sm">
                            <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="showMessage('Simulating: Navigating to Home...', 'info')">Home</button>
                            <button class="px-4 py-2 bg-gray-600 text-white rounded" onclick="renderPage('payroll-contact')">Contact</button>
                            <button class="px-4 py-2 bg-green-600 text-white rounded" onclick="renderPage('payroll-onboarding')">Onboard</button>
                        </div>
                    </header>

                    <section class="bg-gradient-to-br from-sky-800 to-indigo-900 text-white py-16 text-center">
                        <h2 class="text-4xl font-bold">FAA‚Ñ¢ Payroll Intelligence Hub</h2>
                        <p class="mt-4 max-w-2xl mx-auto text-lg opacity-80">
                            Real-Time Scroll Performance ‚Ä¢ Anomaly Detection ‚Ä¢ Departmental Drift Dashboards
                        </p>
                    </section>

                    <section class="py-12 px-6 max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-indigo-700">üìâ Department Load Insights</h3>
                            <p class="text-sm text-gray-600 mt-2">Track real-time load across Finance, Operations, and HR, comparing employee shift volumes and contract types across pay grades. GPA-linked vault records display bandwidth usage, staffing gaps, overassignments, and critical compliance mismatches.</p>
                            <canvas id="deptLoadChart" class="mt-4"></canvas>
                            <button class="mt-4 inline-block bg-indigo-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Viewing Department Load Metrics...', 'info')">View Metrics</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-indigo-700">üß† Risk & Drift Engine</h3>
                            <p class="text-sm text-gray-600 mt-2">Aggregates vault logs to flag ghost shifts, under-hour behavior, and manual overrides. AI interprets shift alignment across zones, time policies, and staffing thresholds. Displays anomaly heatmaps and compiles ScrollID-linked alerts per department node.</p>
                            <canvas id="driftEngineChart" class="mt-4"></canvas>
                            <button class="mt-4 inline-block bg-indigo-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Analyzing Risk & Drift...', 'info')">Analyze</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-indigo-700">üìä Forecast Sync Grid</h3>
                            <p class="text-sm text-gray-600 mt-2">Maps projected payroll spend and staffing needs over time. Forecasts vault sync performance and macroeconomic flux events. Compares prior month performance vs upcoming term commitments, bonuses, and contract delta zones.</p>
                            <canvas id="forecastChart" class="mt-4"></canvas>
                            <button class="mt-4 inline-block bg-indigo-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Launching Forecast Grid...', 'info')">Launch Grid</button>
                        </div>
                    </section>

                    <section class="py-8 px-6 max-w-5xl mx-auto bg-white rounded shadow mt-12">
                        <h3 class="text-xl font-semibold text-indigo-700 mb-4">üéõÔ∏è Customize Intelligence Variables</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Select Department:</label>
                                <select class="w-full border-gray-300 rounded px-4 py-2">
                                    <option>Finance</option>
                                    <option>Operations</option>
                                    <option>HR</option>
                                    <option>IT</option>
                                    <option>Compliance</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Shift Period:</label>
                                <select class="w-full border-gray-300 rounded px-4 py-2">
                                    <option>Last 7 Days</option>
                                    <option>This Month</option>
                                    <option>Last Quarter</option>
                                    <option>Year to Date</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Drift Threshold:</label>
                                <input type="number" placeholder="e.g. 15%" class="w-full border-gray-300 rounded px-4 py-2">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Forecast Window:</label>
                                <select class="w-full border-gray-300 rounded px-4 py-2">
                                    <option>Next 4 Weeks</option>
                                    <option>Next 3 Months</option>
                                    <option>Fiscal Half</option>
                                    <option>Full Year</option>
                                </select>
                            </div>
                        </div>
                        <div class="text-right mt-6">
                            <button class="bg-indigo-600 text-white px-6 py-2 rounded" onclick="showMessage('Simulating: Applying Filters...', 'info')">Apply Filters</button>
                        </div>
                    </section>

                    <section class="mt-16 text-center">
                        <p class="text-xs text-gray-500">FAA‚Ñ¢ RealMetrics Engine ‚Ä¢ Last Sync: 14s ago ‚Ä¢ All Logs Scroll-Verified‚Ñ¢</p>
                    </section>
                `,
                charts: [
                    {
                        id: 'deptLoadChart',
                        type: 'bar',
                        data: {
                            labels: ['Finance', 'Ops', 'HR'],
                            datasets: [{
                                label: 'Active Shifts',
                                data: [58, 77, 42],
                                backgroundColor: '#6366F1'
                            }]
                        },
                        options: { responsive: true, plugins: { legend: { display: false } } }
                    },
                    {
                        id: 'driftEngineChart',
                        type: 'doughnut',
                        data: {
                            labels: ['Aligned', 'Drifted'],
                            datasets: [{
                                label: 'Shift Integrity',
                                data: [84, 16],
                                backgroundColor: ['#10B981', '#F59E0B']
                            }]
                        },
                        options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
                    },
                    {
                        id: 'forecastChart',
                        type: 'line',
                        data: {
                            labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                            datasets: [{
                                label: 'Projected CTC Volume',
                                data: [420000, 460000, 510000, 490000],
                                borderColor: '#8B5CF6',
                                tension: 0.3
                            }]
                        },
                        options: { responsive: true }
                    }
                ]
            },
            {
                id: "payroll-global-metrics",
                title: "üåç FAA Payroll OS ‚Äî Global Metrics",
                icon: "üåç",
                description: "Cross-Region Intelligence ‚Ä¢ CTC Comparisons ‚Ä¢ VaultBench GDP Sync. Continental Pay Index ‚Ä¢ Cross-Border CTC Benchmarks ‚Ä¢ RoleBand Normalization Grid.",
                content: `
                    <header class="bg-white shadow p-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-3xl font-extrabold text-indigo-700">üåç FAA Payroll OS ‚Äî Global Metrics</h1>
                            <p class="text-sm text-gray-500">Cross-Region Intelligence ‚Ä¢ CTC Comparisons ‚Ä¢ VaultBench GDP Sync</p>
                        </div>
                        <div class="flex gap-3 text-sm">
                            <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="showMessage('Simulating: Navigating to Home...', 'info')">Home</button>
                            <button class="px-4 py-2 bg-gray-600 text-white rounded" onclick="renderPage('payroll-contact')">Contact</button>
                            <button class="px-4 py-2 bg-green-600 text-white rounded" onclick="renderPage('payroll-onboarding')">Onboard</button>
                        </div>
                    </header>

                    <section class="bg-gradient-to-br from-emerald-800 to-blue-900 text-white py-16 text-center">
                        <h2 class="text-4xl font-bold">FAA‚Ñ¢ Global Payroll Metrics Hub</h2>
                        <p class="mt-4 max-w-2xl mx-auto text-lg opacity-80">
                            Continental Pay Index ‚Ä¢ Cross-Border CTC Benchmarks ‚Ä¢ RoleBand Normalization Grid
                        </p>
                    </section>

                    <section class="py-12 px-6 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-emerald-700">üåê Global CTC Delta Map</h3>
                            <p class="text-sm text-gray-600 mt-2">Visualize comparative Cost-to-Company variances across 32 economic regions, synced with GDP velocity and contract tax burdens.</p>
                            <button class="mt-4 inline-block bg-emerald-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Viewing Global Map...', 'info')">View Global Map</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-emerald-700">üìä Region-Based RoleBand Grid</h3>
                            <p class="text-sm text-gray-600 mt-2">Standardizes payroll titles across continents using normalized GPA, role compression ratios, and vault-synced compensation classes.</p>
                            <button class="mt-4 inline-block bg-emerald-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Opening RoleBand Grid...', 'info')">Open Grid</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-emerald-700">üõ∞Ô∏è VaultBench GDP Comparator</h3>
                            <p class="text-sm text-gray-600 mt-2">Integrates national labor metrics and GDP shifts to analyze payroll drift risk at a sovereign level. Uses FAA's VaultBench AI models.</p>
                            <button class="mt-4 inline-block bg-emerald-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Launching GDP Comparator...', 'info')">Launch Comparator</button>
                        </div>
                    </section>

                    <section class="py-12 px-6 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-blue-700">üí∏ Wage Volatility Index</h3>
                            <p class="text-sm text-gray-600 mt-2">Captures month-over-month fluctuation across compensation bands in 27 markets. Highlights high-risk drift clusters and unstable wage anchors using ScrollMesh stability scores.</p>
                            <button class="mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Exploring Volatility...', 'info')">Explore Volatility</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-blue-700">üß≠ Sync Latency Tracker</h3>
                            <p class="text-sm text-gray-600 mt-2">Monitors how long regions take to sync contract changes, wage adjustments, and vault bindings. Useful for remote regions and delayed compliance zones.</p>
                            <button class="mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Running Sync Report...', 'info')">Run Sync Report</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-blue-700">üì° ScrollMesh Access Score</h3>
                            <p class="text-sm text-gray-600 mt-2">Ranks nations and regional zones based on their data reliability, audit trail integrity, and ScrollMesh routing consistency over the last 90 days.</p>
                            <button class="mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Accessing Grid...', 'info')">Access Grid</button>
                        </div>
                    </section>

                    <section class="py-12 px-6 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-purple-700">üíº Vault Liquidity Drift Monitor</h3>
                            <p class="text-sm text-gray-600 mt-2">Detects CTC drift across payroll vaults by comparing fund issuance timestamps with real-world salary clearance. Flags underfunded regions and late disbursement chains.</p>
                            <button class="mt-4 inline-block bg-purple-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Tracking Liquidity...', 'info')">Track Liquidity</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-purple-700">üéØ Intra-Nation Bonus Spread</h3>
                            <p class="text-sm text-gray-600 mt-2">Analyzes variance in bonus payments across departments and cities within the same national boundary. Spotlights pay disparity by role class and fiscal tier.</p>
                            <button class="mt-4 inline-block bg-purple-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Viewing Spread Map...', 'info')">View Spread Map</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-purple-700">üìê CTC Overlap Index</h3>
                            <p class="text-sm text-gray-600 mt-2">Calculates overlap and misclassification between full-time, part-time, and contract roles in multi-country setups. Maps role collisions and vault sync friction zones.</p>
                            <button class="mt-4 inline-block bg-purple-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Inspecting Overlap...', 'info')">Inspect Overlap</button>
                        </div>
                    </section>

                    <section class="py-12 px-6 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-rose-700">üèõÔ∏è Sovereign Labor Scorecards</h3>
                            <p class="text-sm text-gray-600 mt-2">Ranks national labor systems on stability, pay policy, compliance, and contract resolution times. Pulled from ScrollBench + VaultEcho indicators.</p>
                            <button class="mt-4 inline-block bg-rose-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Viewing Scorecards...', 'info')">View Scorecards</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-rose-700">‚ö†Ô∏è AI Escalation Flags</h3>
                            <p class="text-sm text-gray-600 mt-2">Highlights regions with active anomaly patterns. These include ghost entries, funding mismatches, role loopbacks, and drift-rate violations. Connected to FAA escalation logic.</p>
                            <button class="mt-4 inline-block bg-rose-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Reviewing Alerts...', 'info')">Review Alerts</button>
                        </div>

                        <div class="bg-white p-6 rounded shadow">
                            <h3 class="text-xl font-semibold text-rose-700">üßæ Global Payroll Integrity Index</h3>
                            <p class="text-sm text-gray-600 mt-2">Composite rating of payroll system trustworthiness per region ‚Äî using ScrollMesh sync ratio, audit friction, and CTC sync backlog volumes.</p>
                            <button class="mt-4 inline-block bg-rose-600 text-white px-4 py-2 rounded" onclick="showMessage('Simulating: Inspecting Index...', 'info')">Inspect Index</button>
                        </div>
                    </section>

                    <section class="mt-16 text-center">
                        <p class="text-xs text-gray-500">FAA‚Ñ¢ Global Intelligence Layer ‚Ä¢ Page 1 of 5 ‚Ä¢ ScrollMesh Enabled</p>
                    </section>
                `
            },
            {
                id: "payroll-onboarding",
                title: "üçá FAA Payroll ‚Äì Onboarding Portal",
                icon: "üì•",
                description: "Deploy your own node, bind compliance scrolls, activate payslip engines and link team logic in under 10 minutes.",
                content: `
                    <header class="flex justify-between items-center px-8 py-5 bg-gray-950 border-b border-purple-800 sticky top-0 z-50 text-white">
                        <div class="text-2xl font-black tracking-tight text-white">üçá Fruitful‚Ñ¢ Payroll OS</div>
                        <nav class="hidden md:flex space-x-8 text-sm font-semibold">
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-features')">Features</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-ai-modules')">AI Modules</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-intelligence-hub')">Intelligence</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-products-services')">Explore</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-contact')">Contact</button>
                        </nav>
                        <button class="bg-white text-black font-bold px-4 py-2 rounded-lg text-sm" onclick="showMessage('Simulating: Entering Global Checkout...', 'info')">Enter</button>
                    </header>

                    <section class="bg-gradient-to-br from-purple-800 via-indigo-900 to-black text-center py-32 px-6 text-white">
                        <h1 class="text-5xl md:text-7xl font-black leading-tight mb-6">üöÄ Launch Your Payroll Grid</h1>
                        <p class="text-lg max-w-2xl mx-auto opacity-80">
                            Deploy your own node, bind compliance scrolls, activate payslip engines and link team logic in under 10 minutes.
                        </p>
                        <div class="mt-10 flex justify-center gap-4">
                            <a href="#form" class="bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg text-lg font-semibold" onclick="showMessage('Simulating: Scrolling to Onboarding Form...', 'info')">üì• Start Onboarding</a>
                            <button class="border border-white hover:bg-white hover:text-black text-white px-6 py-3 rounded-lg text-lg font-semibold" onclick="renderPage('payroll-features')">Explore Core Features</button>
                        </div>
                    </section>

                    <section id="form" class="bg-black py-24 px-6 text-left max-w-4xl mx-auto text-white">
                        <h2 class="text-3xl font-bold text-purple-400 mb-10 text-center">üßæ Submit Your Payroll Launch Form</h2>
                        <form class="space-y-6">
                            <div>
                                <label class="block mb-2 text-sm font-semibold">Company or DAO Name</label>
                                <input type="text" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white" placeholder="e.g. ScrollWorks DAO" />
                            </div>
                            <div>
                                <label class="block mb-2 text-sm font-semibold">Contact Email</label>
                                <input type="email" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white" placeholder="you@yourdomain.com" />
                            </div>
                            <div>
                                <label class="block mb-2 text-sm font-semibold">Number of Active Team Members</label>
                                <input type="number" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white" placeholder="e.g. 35" />
                            </div>
                            <div>
                                <label class="block mb-2 text-sm font-semibold">Payroll Type</label>
                                <select class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white">
                                    <option>Monthly (Standard)</option>
                                    <option>Weekly</option>
                                    <option>Contractor / Task-Based</option>
                                    <option>Staggered (Hybrid)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2 text-sm font-semibold">Additional Notes or Logic Requests</label>
                                <textarea rows="4" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white" placeholder="e.g. Sync with legacy system, custom scroll bindings..."></textarea>
                            </div>
                            <div class="text-center">
                                <button type="button" class="bg-purple-600 hover:bg-purple-500 text-white px-8 py-4 rounded-lg text-lg font-semibold transition" onclick="renderPage('payroll-activation')">Submit & Activate Node</button>
                            </div>
                        </form>
                    </section>

                    <footer class="text-center py-8 text-xs text-gray-500 border-t border-purple-800">
                        FAA‚Ñ¢ VaultMesh | Scroll Synced | Node Certified | Treaty Locked
                    </footer>
                `
            },
            {
                id: "payroll-activation",
                title: "üçá FAA Payroll ‚Äî Node Activation",
                icon: "üçá",
                description: "Your form has been submitted and is being routed through VaultMesh‚Ñ¢ Verification. Expect scroll binding confirmation within 12 minutes.",
                content: `
                    <header class="flex justify-between items-center px-8 py-5 bg-gray-950 border-b border-purple-800 sticky top-0 z-50 text-white">
                        <div class="text-2xl font-black tracking-tight text-white">üçá Fruitful‚Ñ¢ Payroll OS</div>
                        <button class="bg-white text-black font-bold px-4 py-2 rounded-lg text-sm" onclick="showMessage('Simulating: Entering Global Checkout...', 'info')">Enter</button>
                    </header>

                    <section class="bg-gradient-to-br from-green-900 via-black to-gray-950 text-center py-32 px-6 text-white">
                        <h1 class="text-5xl md:text-7xl font-black leading-tight mb-6 text-green-400">‚úÖ Node Request Received</h1>
                        <p class="text-lg max-w-2xl mx-auto opacity-80 text-white">
                            Your form has been submitted and is being routed through VaultMesh‚Ñ¢ Verification.<br/>
                            Expect scroll binding confirmation within 12 minutes.
                        </p>
                        <div class="mt-10 flex justify-center gap-4">
                            <button class="bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-semibold" onclick="renderPage('payroll-quantum-dashboard')">Open Payroll Core</button>
                            <button class="border border-white hover:bg-white hover:text-black text-white px-6 py-3 rounded-lg text-lg font-semibold" onclick="renderPage('payroll-features')">Explore Features</button>
                        </div>
                    </section>

                    <section class="py-20 px-6 bg-black max-w-5xl mx-auto text-left text-white">
                        <h2 class="text-3xl font-bold text-purple-400 mb-6 text-center">üåê Next: Scroll Integration & Access
                        </h2>
                        <ul class="list-disc list-inside space-y-4 text-gray-300">
                            <li>VaultMesh‚Ñ¢ will assign a Scroll ID and auto-map team slots based on submission.</li>
                            <li>You‚Äôll receive a secure node login link once verification is complete.</li>
                            <li>All submitted metadata will be used to generate audit and payslip keys.</li>
                            <li>If additional logic was requested, our team will follow up with a custom config binding doc.</li>
                            <li>Expect full activation and export access within 12‚Äì20 minutes.</li>
                        </ul>
                    </section>

                    <footer class="text-center py-8 text-xs text-gray-500 border-t border-purple-800">
                        FAA‚Ñ¢ VaultMesh | Scroll Synced | Node Verified | Treaty Logged
                    </footer>
                `
            },
            {
                id: "payroll-contact",
                title: "üçá FAA‚Ñ¢ Contact + Compliance",
                icon: "üì©",
                description: "Connect with FAA‚Ñ¢ support and compliance teams. Access portals and scale your operations.",
                content: `
                    <header class="flex justify-between items-center px-8 py-5 bg-gray-950 border-b border-purple-800 sticky top-0 z-50 text-white">
                        <div class="text-2xl font-black tracking-tight text-white">üçá Fruitful‚Ñ¢ Payroll OS</div>
                        <nav class="hidden md:flex space-x-8 text-sm font-semibold">
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-features')">Features</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-ai-modules')">AI Modules</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-intelligence-hub')">Intelligence</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-global-metrics')">Global Metrics</button>
                            <button class="hover:text-purple-400 transition" onclick="renderPage('payroll-contact')">Contact</button>
                        </nav>
                        <button class="bg-white text-black font-bold px-4 py-2 rounded-lg text-sm" onclick="showMessage('Simulating: Entering Global Checkout...', 'info')">Enter</button>
                    </header>

                    <section class="py-24 px-6 bg-gradient-to-b from-black via-gray-900 to-black text-center text-white">
                        <div class="max-w-4xl mx-auto">
                            <h1 class="text-4xl md:text-5xl font-extrabold text-purple-400 mb-6">üì© Contact Us</h1>
                            <p class="text-lg mb-10 text-gray-300">üçá FAA.Zone‚Ñ¢ Sovereign Scrolls ¬∑ Fruitful‚Ñ¢ global planet</p>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 text-left text-sm text-gray-200">
                                <div>
                                    <h3 class="font-semibold text-purple-300 mb-2">üõ°Ô∏è Portals</h3>
                                    <ul class="space-y-2">
                                        <li><button class="text-white hover:text-purple-400" onclick="showMessage('Simulating: Navigating to Node Activation Login...', 'info')">üîê Node Activation Login</button></li>
                                        <li><button class="text-white hover:text-purple-400" onclick="showMessage('Simulating: Navigating to Private Label Login...', 'info')">üè∑Ô∏è Private Label Login</button></li>
                                        <li><button class="text-white hover:text-purple-400" onclick="showMessage('Simulating: Navigating to Payroll Core Access...', 'info')">üìä Payroll Core Access</button></li>
                                    </ul>
                                    <div class="mt-8">
                                        <h3 class="font-semibold text-purple-300 mb-2">üöÄ Scale With Us</h3>
                                        <p>Activate your Node, deploy Payroll AI, or link VaultMesh to your DAO or NGO ‚Äî FAA‚Ñ¢ syncs instantly.</p>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="font-semibold text-purple-300 mt-6 mb-2">üì¨ Email</h3>
                                    <p><a href="mailto:vault@faa.zone" class="text-white hover:text-purple-400">vault@faa.zone</a></p>

                                    <h3 class="font-semibold text-purple-300 mt-6 mb-2">üìç Head Office</h3>
                                    <p>Fruitful Holdings‚Ñ¢ t/a üçá FAA‚Ñ¢<br/>Fruitful‚Ñ¢ global planet<br/>South Africa ‚Äì Global Treaty Hub üáøüá¶üåç</p>

                                    <h3 class="font-semibold text-purple-300 mt-6 mb-2">‚è∞ Business Hours</h3>
                                    <p>Mon ‚Äì Fri: 08:00 ‚Äì 17:00<br/>Sat: 09:00 ‚Äì 13:00</p>
                                </div>
                            </div>

                            <div class="mt-12">
                                <a href="mailto:vault@faa.zone" class="bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg font-semibold transition">üì© Contact Us Now</a>
                            </div>

                            <div class="mt-12 text-xs text-gray-500">
                                üçá FAA.Zone Sovereign Scrolls ¬∑ VaultMesh‚Ñ¢ ¬∑ TreatyMesh‚Ñ¢ Validated
                            </div>
                        </div>
                    </section>

                    <footer class="text-center py-8 text-xs text-gray-500 border-t border-purple-800">
                        FAA‚Ñ¢ VaultMesh | Trace ID Verified | FCU Linked | Grid Expansion Certified
                    </footer>
                `
            },
            {
                id: "payroll-quantum-dashboard",
                title: "FAA‚Ñ¢ Payroll Dashboard",
                icon: "üßÆ",
                description: "FAA‚Ñ¢ VaultMesh Synced. Scroll-bound automation, real-time fraud flags, payslip auto-gen, and CTC comparators.",
                content: `
                    <header class="bg-gray-950 px-6 py-4 border-b border-purple-800 sticky top-0 z-50 text-white">
                        <div class="flex justify-between items-center">
                            <h1 class="text-2xl font-black tracking-tight text-white">üß¨ FAA‚Ñ¢ Quantum Payroll Dashboard</h1>
                            <nav class="hidden md:flex space-x-6 text-sm font-semibold">
                                <button class="hover:text-purple-400" onclick="renderPage('payroll-features')">Features</button>
                                <button class="hover:text-purple-400" onclick="renderPage('payroll-ai-modules')">AI Modules</button>
                                <button class="hover:text-purple-400" onclick="renderPage('payroll-intelligence-hub')">Intelligence</button>
                                <button class="hover:text-purple-400" onclick="renderPage('payroll-global-metrics')">Global Metrics</button>
                                <button class="hover:text-purple-400" onclick="renderPage('payroll-onboarding')">Onboarding</button>
                                <button class="hover:text-purple-400" onclick="renderPage('payroll-contact')">Contact</button>
                            </nav>
                            <button class="bg-white text-black font-bold px-4 py-2 rounded text-sm" onclick="showMessage('Simulating: Navigating to Vault...', 'info')">Vault</button>
                        </div>
                    </header>

                    <section class="bg-black text-center py-6 border-b border-purple-900 text-white">
                        <div class="flex flex-wrap justify-center gap-4 text-sm">
                            <a href="#metrics" class="px-4 py-2 border border-purple-600 rounded hover:bg-purple-600" onclick="showMessage('Simulating: Scrolling to Scroll Metrics...', 'info')">üìä Scroll Metrics</a>
                            <a href="#fraud" class="px-4 py-2 border border-purple-600 rounded hover:bg-purple-600" onclick="showMessage('Simulating: Scrolling to Fraud Mesh...', 'info')">üõ°Ô∏è Fraud Mesh</a>
                            <a href="#payslip" class="px-4 py-2 border border-purple-600 rounded hover:bg-purple-600" onclick="showMessage('Simulating: Scrolling to Payslip Logs...', 'info')">üßæ Payslip Logs</a>
                            <a href="#chart" class="px-4 py-2 border border-purple-600 rounded hover:bg-purple-600" onclick="showMessage('Simulating: Scrolling to Drift Monitor...', 'info')">üìà Drift Monitor</a>
                        </div>
                    </section>

                    <section class="bg-gradient-to-br from-black via-gray-900 to-black text-white px-8 py-24 text-center">
                        <h2 class="text-5xl font-extrabold text-purple-500 mb-4">FAA‚Ñ¢ VaultMesh Synced</h2>
                        <p class="text-lg max-w-3xl mx-auto text-gray-300 opacity-90">Scroll-bound automation, real-time fraud flags, payslip auto-gen, and CTC comparators.</p>
                    </section>

                    <section id="metrics" class="px-8 py-24 bg-black text-white">
                        <h3 class="text-4xl font-bold text-center mb-16 text-purple-400">üìä Live Scroll Intelligence</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto">
                            <div class="bg-gray-950 border border-purple-700 p-6 rounded-2xl shadow-lg">
                                <h4 class="text-xl font-semibold text-purple-300 mb-2">üí∏ CTC Tracker AI</h4>
                                <p class="text-sm text-gray-400">Monitors bonus logic, role-to-cost ratio, and scroll-grade alignment in real-time.</p>
                            </div>
                            <div class="bg-gray-950 border border-purple-700 p-6 rounded-2xl shadow-lg">
                                <h4 class="text-xl font-semibold text-purple-300 mb-2">üìÖ ShiftSync Matrix</h4>
                                <p class="text-sm text-gray-400">Live shift graph. Auto-detects underclocking, overstacking, and contract drift.</p>
                            </div>
                            <div id="fraud" class="bg-gray-950 border border-purple-700 p-6 rounded-2xl shadow-lg">
                                <h4 class="text-xl font-semibold text-purple-300 mb-2">üõ°Ô∏è Fraud Mesh</h4>
                                <p class="text-sm text-gray-400">Flags duplicate hours, ghost activity, external IPs & invalid role-grade binds.</p>
                            </div>
                            <div id="payslip" class="bg-gray-950 border border-purple-700 p-6 rounded-2xl shadow-lg">
                                <h4 class="text-xl font-semibold text-purple-300 mb-2">üßæ Payslip Generator</h4>
                                <p class="text-sm text-gray-400">Push QR-encoded payslips, scan logs, and scroll-bound ledgers on demand.</p>
                            </div>
                        </div>
                    </section>

                    <section id="chart" class="px-8 py-20 bg-gray-900">
                        <h3 class="text-3xl text-center font-bold text-purple-400 mb-10">üìà Payroll Drift Monitor</h3>
                        <div class="max-w-4xl mx-auto">
                            <canvas id="driftChart"></canvas>
                        </div>
                    </section>

                    <footer class="text-center py-8 text-xs text-gray-500 border-t border-purple-800">
                        FAA‚Ñ¢ VaultMesh | Payroll Engine | Trace ID Secure | Scroll-Grade Synced
                    </footer>
                `,
                charts: [
                    {
                        id: 'driftChart',
                        type: 'line',
                        data: {
                            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                            datasets: [{
                                label: 'Underclock Hours',
                                data: [2, 4, 1, 5, 3, 6, 2],
                                borderColor: '#a855f7',
                                backgroundColor: 'rgba(168, 85, 247, 0.1)',
                                fill: true,
                                tension: 0.4
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    ticks: { color: '#ccc' },
                                    grid: { color: '#333' }
                                },
                                x: {
                                    ticks: { color: '#ccc' },
                                    grid: { color: '#333' }
                                }
                            },
                            plugins: {
                                legend: { labels: { color: '#eee' } }
                            }
                        }
                    }
                ]
            }
            <!-- END OF INTEGRATED PAGES -->
        ];

        let currentChart = null; // Stores the primary Chart.js instance for the current page
        let currentChart2 = null; // Stores the secondary Chart.js instance for the current page (e.g., Dashboard)
        let currentWorkflowPage = 0; // Tracks the current step in the payroll processing workflow

        // Data for the HAT Book Index UI elements.
        const buttonLibraryData = [
            // ADP Workforce Now
            { name: "Add employees", system: "ADP Workforce Now", type: "Button", category: "Employee Management", function: "Initiates new hire addition workflow", route_or_action: "/adp/employees/add", context_detail: "Used in Employee Management to add a new employee." },
            { name: "Manage deductions", system: "ADP Workforce Now", type: "Button", category: "Payroll Processing", function: "Configures and syncs payroll deductions", route_or_action: "/adp/payroll/deductions/manage", context_detail: "Used in Payroll Processing to manage employee deductions." },
            { name: "Sync deductions to payroll", system: "ADP Workforce Now", type: "Button", category: "Payroll Processing", function: "Ensures accuracy for federal, state, and local taxes", route_or_action: "/adp/payroll/deductions/sync", context_detail: "Used during payroll data input to synchronize deduction data." },
            { name: "Make a same-day ACH payment", system: "ADP Workforce Now", type: "Button", category: "Payroll Processing", function: "Initiates urgent ACH payment for final paychecks", route_or_action: "Triggers same-day ACH", context_detail: "Used for urgent or off-cycle payments." },
            { name: "Automated general ledger entries you can import into your general accounting program", system: "ADP Workforce Now", type: "Button", category: "Financial Analysis", function: "Automates general ledger entries for import", route_or_action: "Imports GL entries", context_detail: "Used in post-payroll processing for financial reconciliation." },
            // Workday
            { name: "Payroll Register", system: "Workday", type: "Report", category: "Reporting", function: "Provides a detailed summary of payroll results for a specific period", route_or_action: "/workday/reports/payroll-register", context_detail: "Standard report for auditing payroll data." },
            { name: "Payroll Audit Exception Summary", system: "Workday", type: "Report", category: "Reporting", function: "Summarizes payroll audit exceptions in real-time", route_or_action: "/workday/payroll/audit-summary", context_detail: "Critical for identifying discrepancies before payroll finalization." },
            { name: "Calculate in batch mode for pay group", system: "Workday", type: "Button", category: "Payroll Processing", function: "Executes batch payroll calculations with single action", route_or_action: "Triggers batch calculation", context_detail: "Streamlines calculation for large groups of employees." },
            { name: "View Payslip", system: "Workday", type: "Button", category: "ESS", function: "Allows employees to view their payslips", route_or_action: "/workday/ess/payslip", context_detail: "Employee Self-Service feature." },
            { name: "Request Time Off", system: "Workday", type: "Button", category: "ESS", function: "Enables employees to submit time off requests", route_or_action: "/workday/ess/time-off", context_detail: "Employee Self-Service feature." },
            // SAP SuccessFactors
            { name: "Check Payroll Results", system: "SAP SuccessFactors", type: "Button", category: "Payroll Processing", function: "Displays and allows review of payroll calculation results", route_or_action: "/sap/payroll/check-results", context_detail: "Used during payroll review phase." },
            { name: "Generate payroll results", system: "SAP SuccessFactors", type: "Button", category: "Payroll Processing", function: "Stores productive payroll results", route_or_action: "/sap/payroll/generate-results", context_detail: "Final step in payroll calculation before approval." },
            { name: "Release for Payroll", system: "SAP SuccessFactors", type: "Button", category: "Payroll Processing", function: "Initiates the payroll processing cycle", route_or_action: "Triggers payroll release", context_detail: "Starts the official payroll run." },
            { name: "Exit Payroll", system: "SAP SuccessFactors", type: "Button", category: "Payroll Processing", function: "Concludes the current payroll processing session", route_or_action: "Exits payroll module", context_detail: "Used after completing payroll tasks." },
            { name: "Form W-2", system: "SAP SuccessFactors", type: "Report", category: "Tax Form", function: "Generates employee tax form W-2", route_or_action: "/sap/reports/form-w2", context_detail: "Standard tax reporting document." },
            { name: "PCC Configuration Workbench (t-code PYC_CONF_WB)", system: "SAP SuccessFactors", type: "Navigation", category: "Admin", function: "Accesses the Payroll Control Center configuration workbench", route_or_action: "t-code PYC_CONF_WB", context_detail: "Admin tool for advanced payroll setup." },
            { name: "PCC Action/Audit Log", system: "SAP SuccessFactors", type: "Report", category: "Monitoring", function: "Displays actions and audit trail within Payroll Control Center", route_or_action: "/sap/pcc/audit-log", context_detail: "Used for compliance and troubleshooting in PCC." },
            // Deel
            { name: "Organization Settings (gear) icon", system: "Deel", type: "Icon/Button", category: "Admin", function: "Accesses organizational settings for entity setup", route_or_action: "/deel/settings/organization", context_detail: "Found in the main navigation or settings menu." },
            { name: "Create entity", system: "Deel", type: "Button", category: "Admin", function: "Initiates creation of a new legal entity", route_or_action: "/deel/entities/create", context_detail: "Used for multi-entity payroll management." },
            { name: "Review payroll", system: "Deel", type: "Button", category: "Payroll Processing", function: "Initiates the review phase of the payroll cycle", route_or_action: "/deel/payroll/review", context_detail: "Step before final payroll approval." },
            { name: "Approve payroll", system: "Deel", type: "Button", category: "Payroll Processing", function: "Approves the payroll for submission", route_or_action: "Approves payroll", context_detail: "Final approval step in the payroll cycle." },
            { name: "Submit and fund payroll", system: "Deel", type: "Button", category: "Payroll Processing", function: "Finalizes payroll submission and initiates funding", route_or_action: "Submits and funds payroll", context_detail: "Completes the payroll run and triggers payments." },
            { name: "View all contracts", system: "Deel", type: "Button", category: "Contract Management", function: "Displays a list of all active and past contracts", route_or_action: "/deel/contracts/all", context_detail: "Used to manage contractor and employee contracts." },
            // Oracle Fusion Cloud
            { name: "Submit a Flow Page", system: "Oracle Fusion Cloud", type: "Button", category: "Payroll Processing", function: "Initiates various payroll flows including calculations and submissions", route_or_action: "/oracle/payroll/submit-flow", context_detail: "Centralized button for starting payroll processes." },
            { name: "Actions Menu (Roll Back Errors)", system: "Oracle Fusion Cloud", type: "Dropdown Option", category: "Payroll Processing", function: "Rolls back records with errors", route_or_action: "Rolls back errored records", context_detail: "Option within a dropdown for error correction." },
            { name: "Upload Parameter Files Option", system: "Oracle Fusion Cloud", type: "Button", category: "Data Management", function: "Uploads files with flow parameter details", route_or_action: "Opens file upload dialog", context_detail: "Used for mass data input or configuration." },
            { name: "Manage Fast Formulas", system: "Oracle Fusion Cloud", type: "Navigation", category: "Customization", function: "Allows users to create and manage custom payroll formulas", route_or_action: "/oracle/admin/fast-formulas", context_detail: "Admin tool for complex payroll rules." },
            { name: "Process Results Details", system: "Oracle Fusion Cloud", type: "Report", category: "Process Detail", function: "Provides detailed logs and results of payroll processes", route_or_action: "/oracle/payroll/process-results", context_detail: "Used for auditing and troubleshooting payroll runs." },
            { name: "Manage Configuration Packages Task", system: "Oracle Fusion Cloud", type: "Button", category: "Admin", function: "Exports and imports configuration packages (including flows)", route_or_action: "/oracle/admin/config-packages", context_detail: "Used for migrating configurations between environments." },
            { name: "Statement of Earnings", system: "Oracle Fusion Cloud", type: "Report", category: "Reporting", function: "Generates employee statement of earnings", route_or_action: "/oracle/reports/statement-of-earnings", context_detail: "Standard report for employee pay details." },
            // FAA Omni-Payroll
            { name: "Run AI-Powered Calculation Audit", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Initiates an AI-driven audit of payroll calculations for anomalies", route_or_action: "Triggers AI audit", context_detail: "Enhances accuracy and fraud detection." },
            { name: "View AI Anomaly Report", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Displays detailed report of detected payroll anomalies", route_or_action: "Opens anomaly report", context_detail: "Provides insights from AI audit." },
            { name: "Submit for Final Approval", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Sends payroll for final executive approval", route_or_action: "Sends for approval", context_detail: "Last step before payments are disbursed." },
            { name: "Initiate Global Tax Remittance", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Triggers automated remittance of taxes to relevant global authorities", route_or_action: "Automates tax remittance", context_detail: "Ensures global tax compliance." },
            { name: "Archive Payroll Records", system: "FAA Omni-Payroll", type: "Button", category: "Data Management", function: "Initiates long-term secure archiving of payroll data for compliance", route_or_action: "Archives data", context_detail: "Ensures data retention and audit readiness." },
            { name: "Launch Client Dashboard", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Navigates to the client-facing payroll dashboard", route_or_action: "payroll-welcome-dashboard", context_detail: "Main entry point for clients." },
            { name: "Explore Features", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Navigates to the payroll features page", route_or_action: "payroll-products-services", context_detail: "Highlights system capabilities." },
            { name: "Start Onboarding Now", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Initiates the onboarding process for new clients/nodes", route_or_action: "payroll-onboarding", context_detail: "Guides new users through setup." },
            { name: "Vault Checkout", system: "FAA Omni-Payroll", type: "Button", category: "Financial Analysis", function: "Navigates to a simulated global checkout/payment portal", route_or_action: "Simulates global checkout", context_detail: "For subscription or service payments." },
            { name: "View Module", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Views the Payslip Engine module", route_or_action: "Simulates viewing module", context_detail: "Accesses payslip generation tools." },
            { name: "Explore", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Explores the ShiftSync Grid functionality", route_or_action: "Simulates exploring ShiftSync", context_detail: "Detailed view of shift management." },
            { name: "Open Tracker", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Opens the CTC Tracker AI", route_or_action: "Simulates opening CTC Tracker", context_detail: "Accesses compensation analysis tools." },
            { name: "Analyze Drift", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Analyzes time drift and ghost detection", route_or_action: "Simulates analyzing drift", context_detail: "Initiates fraud detection scan." },
            { name: "Bind Now", system: "FAA Omni-Payroll", type: "Button", category: "Data Management", function: "Initiates brand binding process", route_or_action: "Simulates binding", context_detail: "Links staff to brand cost centers." },
            { name: "Run Analyzer", system: "FAA Omni-Payroll", type: "Button", category: "Data Management", function: "Runs the Role-to-Pay Analyzer", route_or_action: "Simulates running analyzer", context_detail: "Evaluates compensation alignment." },
            { name: "View Logs", system: "FAA Omni-Payroll", type: "Button", category: "Data Management", function: "Views Vault Entry Logs", route_or_action: "Simulates viewing logs", context_detail: "Accesses audit and trace logs." },
            { name: "Vault Sync", system: "FAA Omni-Payroll", type: "Button", category: "Data Management", function: "Initiates VaultMesh Sync", route_or_action: "Simulates vault sync", context_detail: "Ensures data integrity across the mesh." },
            { name: "Open Matrix", system: "FAA Omni-Payroll", type: "Button", category: "Data Management", function: "Opens the Org Role Matrix", route_or_action: "Simulates opening matrix", context_detail: "Visualizes organizational structure and roles." },
            { name: "Download", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Downloads exportable reports", route_or_action: "Simulates downloading reports", context_detail: "Generates various data exports." },
            { name: "Launch", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Launches PayPredict AI", route_or_action: "Simulates launching AI", context_detail: "Starts predictive payroll analysis." },
            { name: "Run Scan", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Runs ScrollSentinel Scan", route_or_action: "Simulates running scan", context_detail: "Initiates AI surveillance for anomalies." },
            { name: "Analyze", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Analyzes BonusLogic Core", route_or_action: "Simulates analyzing bonus logic", context_detail: "Evaluates bonus eligibility and compliance." },
            { name: "Map Drift", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Maps TimeDrift", route_or_action: "Simulates mapping drift", context_detail: "Visualizes time tracking anomalies." },
            { name: "View Metrics", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Views Department Load Metrics", route_or_action: "Simulates viewing metrics", context_detail: "Accesses departmental performance data." },
            { name: "Analyze", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Analyzes Risk & Drift Engine", route_or_action: "Simulates analyzing risk", context_detail: "Initiates risk assessment for payroll." },
            { name: "Launch Grid", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Launches Forecast Sync Grid", route_or_action: "Simulates launching grid", context_detail: "Accesses future payroll projections." },
            { name: "Apply Filters", system: "FAA Omni-Payroll", type: "Button", category: "Data Interaction", function: "Applies filters to intelligence variables", route_or_action: "Simulates applying filters", context_detail: "Customizes data views." },
            { name: "View Global Map", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Views Global CTC Delta Map", route_or_action: "Simulates viewing map", context_detail: "Geographic visualization of compensation." },
            { name: "Open Grid", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Opens the Region-Based RoleBand Grid", route_or_action: "Simulates opening grid", context_detail: "Standardizes global role titles." },
            { name: "Launch Comparator", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Launches the VaultBench GDP Comparator", route_or_action: "Simulates launching comparator", context_detail: "Compares payroll to economic indicators." },
            { name: "Explore Volatility", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Explores the Wage Volatility Index", route_or_action: "Simulates exploring volatility", context_detail: "Analyzes wage fluctuations." },
            { name: "Run Sync Report", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Runs the Sync Latency Tracker report", route_or_action: "Simulates running report", context_detail: "Monitors data synchronization delays." },
            { name: "Access Grid", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Accesses the ScrollMesh Access Score grid", route_or_action: "Simulates accessing grid", context_detail: "Rates data reliability by region." },
            { name: "Launch FX Grid", system: "FAA Omni-Payroll", type: "Button", category: "Financial Analysis", function: "Launches the Cross-Currency Payroll Index Grid", route_or_action: "Simulates launching FX grid", context_detail: "Benchmarks multi-currency payroll." },
            { name: "Run Zone Report", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Runs the Timezone Deviation Sync report", route_or_action: "Simulates running report", context_detail: "Identifies timezone-related payroll errors." },
            { name: "Inspect Contracts", system: "FAA Omni-Payroll", type: "Button", category: "Contract Management", function: "Inspects Contract Window Misalignment", route_or_action: "Simulates inspecting contracts", context_detail: "Reviews contract compliance." },
            { name: "Track Liquidity", system: "FAA Omni-Payroll", type: "Button", category: "Financial Analysis", function: "Tracks Vault Liquidity Drift", route_or_action: "Simulates tracking liquidity", context_detail: "Monitors payroll fund availability." },
            { name: "View Spread Map", system: "FAA Omni-Payroll", type: "Button", category: "Financial Analysis", function: "Views the Intra-Nation Bonus Spread map", route_or_action: "Simulates viewing map", context_detail: "Analyzes bonus payment disparities." },
            { name: "Inspect Overlap", system: "FAA Omni-Payroll", type: "Button", category: "Employee Management", function: "Inspects CTC Overlap Index", route_or_action: "Simulates inspecting overlap", context_detail: "Identifies role classification issues." },
            { name: "View Scorecards", system: "FAA Omni-Payroll", type: "Button", category: "Compliance", function: "Views Sovereign Labor Scorecards", route_or_action: "Simulates viewing scorecards", context_detail: "Ranks national labor system compliance." },
            { name: "Review Alerts", system: "FAA Omni-Payroll", type: "Button", category: "Monitoring", function: "Reviews AI Escalation Flags", route_or_action: "Simulates reviewing alerts", context_detail: "Highlights critical payroll anomalies." },
            { name: "Inspect Index", system: "FAA Omni-Payroll", type: "Button", category: "Compliance", function: "Inspects Global Payroll Integrity Index", route_or_action: "Simulates inspecting index", context_detail: "Evaluates overall payroll system trustworthiness." },
            { name: "Initiate Payroll Run", system: "FAA Omni-Payroll", type: "Button", category: "Payroll Processing", function: "Initiates the payroll processing cycle", route_or_action: "Simulates payroll initiation", context_detail: "Starts a new payroll period." },
            { name: "View Latest Report", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Views the most recently generated report", route_or_action: "Simulates viewing report", context_detail: "Quick access to current reports." },
            { name: "Run AI Anomaly Detection", system: "FAA Omni-Payroll", type: "Button", category: "AI/ML Integration", function: "Triggers an AI scan for payroll anomalies", route_or_action: "Simulates AI scan", context_detail: "Proactive fraud and error detection." },
            { name: "Launch Dashboard", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Launches the main dashboard", route_or_action: "dashboard-overview", context_detail: "Primary entry point to the system." },
            { name: "Explore Features", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Explores the core features of the system", route_or_action: "payroll-features", context_detail: "Detailed overview of functionalities." },
            { name: "Start Onboarding Now", system: "FAA Omni-Payroll", type: "Button", category: "Onboarding", function: "Initiates the client onboarding process", route_or_action: "payroll-onboarding", context_detail: "Guides new clients through setup." },
            { name: "Submit & Activate Node", system: "FAA Omni-Payroll", type: "Button", category: "Onboarding", function: "Submits onboarding form and activates a new payroll node", route_or_action: "payroll-activation", context_detail: "Final step in client onboarding." },
            { name: "Open Payroll Core", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Opens the main payroll core system", route_or_action: "payroll-portal-landing", context_detail: "Direct access to the core payroll functionalities." },
            { name: "Launch Client Dashboard", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Launches the client-specific payroll dashboard", route_or_action: "payroll-welcome-dashboard", context_detail: "Personalized overview for clients." },
            { name: "Enter", system: "FAA Omni-Payroll", type: "Button", category: "Authentication", function: "Enters a secure portal or proceeds to the next step in a flow", route_or_action: "Simulates portal entry", context_detail: "General access button for secure areas." },
            { name: "Vault", system: "FAA Omni-Payroll", type: "Button", category: "Navigation", function: "Navigates to the secure data vault", route_or_action: "Simulates vault access", context_detail: "Accesses immutable data storage." },
            { name: "Scroll Metrics", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Navigates to metrics related to data scrolls", route_or_action: "#metrics", context_detail: "Detailed view of data flow performance." },
            { name: "Fraud Mesh", system: "FAA Omni-Payroll", type: "Button", category: "Monitoring", function: "Navigates to the fraud detection system", route_or_action: "#fraud", context_detail: "Overview of fraud alerts and patterns." },
            { name: "Payslip Logs", system: "FAA Omni-Payroll", type: "Button", category: "Reporting", function: "Navigates to payslip generation logs", route_or_action: "#payslip", context_detail: "Detailed records of payslip creation." },
            { name: "Drift Monitor", system: "FAA Omni-Payroll", type: "Button", category: "Monitoring", function: "Navigates to the payroll drift monitoring dashboard", route_or_action: "#chart", context_detail: "Monitors discrepancies in payroll data." }
        ];

        /**
         * Displays a temporary message box at the bottom right of the screen.
         * @param {string} message - The message to display.
         * @param {string} type - The type of message ('info', 'success', 'error'). Affects background color.
         */
        function showMessage(message, type = 'info') {
            const msgBox = document.getElementById('messageBox');
            msgBox.textContent = message;
            // Set background color based on type
            let bgColorClass;
            if (type === 'error') {
                bgColorClass = 'bg-red-700';
            } else if (type === 'success') {
                bgColorClass = 'bg-green-700';
            } else {
                bgColorClass = 'bg-gray-700';
            }
            // Remove any previous background classes to ensure only one is applied
            msgBox.classList.remove('bg-red-700', 'bg-green-700', 'bg-gray-700');
            msgBox.className = `message-box show ${bgColorClass}`; // Apply show class and background color
            setTimeout(() => {
                msgBox.classList.remove('show');
            }, 3000); // Message disappears after 3 seconds
        }

        /**
         * Opens a modal dialog.
         * @param {string} modalId - The ID of the modal element to open.
         */
        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex'); // Use flex to center content
        }

        /**
         * Closes a modal dialog.
         * @param {string} modalId - The ID of the modal element to close.
         */
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }

        // Handle Add Employee Form Submission
        document.addEventListener('DOMContentLoaded', () => {
            const addEmployeeForm = document.getElementById('addEmployeeForm');
            if (addEmployeeForm) {
                addEmployeeForm.addEventListener('submit', function(event) {
                    event.preventDefault(); // Prevent default form submission
                    const name = document.getElementById('newEmployeeName').value;
                    const role = document.getElementById('newEmployeeRole').value;
                    const location = document.getElementById('newEmployeeLocation').value;

                    // Get current date for hireDate
                    const today = new Date();
                    const hireDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
                    const salary = "N/A"; // Default salary for new entries

                    // Create a new employee object
                    const newEmployee = {
                        id: pagesData.find(p => p.id === "employee-management").data.length + 1, // Simple ID generation
                        name: name,
                        role: role,
                        status: "Active", // Default status for new employees
                        location: location,
                        hireDate: hireDate,
                        salary: salary
                    };
                    // Add new employee to the data array
                    pagesData.find(p => p.id === "employee-management").data.push(newEmployee);
                    renderPage('employee-management'); // Re-render employee list to show the new employee
                    closeModal('employeeModal'); // Close the modal
                    showMessage(`Employee '${name}' added successfully!`, 'success'); // Show success message
                    this.reset(); // Clear form fields
                });
            }
        });


        /**
         * Simulates the generation of a report.
         * @param {string} reportName - The name of the report to simulate.
         */
        function generateReport(reportName) {
            openModal('reportModal'); // Open the report generation modal
            const reportModalContent = document.getElementById('reportModalContent');
            reportModalContent.innerHTML = `<p><span class="loading-spinner"></span> Generating ${reportName}...</p><p class="mt-2 text-sm text-slate-500">This might take a few moments for complex reports.</p>`;

            setTimeout(() => {
                // After a delay, show success message and download link
                reportModalContent.innerHTML = `
                    <p class="text-green-600 font-bold">‚úÖ ${reportName} generated successfully!</p>
                    <p class="mt-2">Simulated download link: <a href="#" class="text-blue-600 hover:underline" onclick="showMessage('Simulating: Downloading ${reportName}...', 'info'); closeModal('reportModal'); return false;">Download ${reportName}.pdf</a></p>
                `;
            }, 2000); // Simulate 2-second generation time
        }

        /**
         * Advances the payroll workflow to the next step.
         * @param {number} stepIndex - The index of the step that was just completed.
         */
        function advanceWorkflowStep(stepIndex) {
            const payrollPage = pagesData.find(p => p.id === "payroll-processing");
            if (!payrollPage) return; // Ensure page data exists

            const workflowSteps = payrollPage.workflowSteps;
            
            // Ensure the current step is valid and not already completed (to prevent double-completion)
            if (stepIndex < workflowSteps.length && workflowSteps[stepIndex].status === 'active') {
                // Mark current step as completed
                workflowSteps[stepIndex].status = 'completed';
                showMessage(`Step '${workflowSteps[stepIndex].name}' completed.`, 'success');

                // Activate next step if available
                if (stepIndex + 1 < workflowSteps.length) {
                    workflowSteps[stepIndex + 1].status = 'active';
                    showMessage(`Next step: '${workflowSteps[stepIndex + 1].name}' is now active.`, 'info');
                } else {
                    showMessage('Payroll workflow completed successfully!', 'success');
                }
                renderPage('payroll-processing'); // Re-render workflow to show status changes
            } else if (stepIndex < workflowSteps.length && workflowSteps[stepIndex].status === 'completed') {
                showMessage(`Step '${workflowSteps[stepIndex].name}' is already completed.`, 'info');
            } else {
                showMessage('Cannot advance workflow: Invalid step or workflow already finished.', 'error');
            }
        }

        /**
         * Resets the payroll workflow to its initial state, starting a new run.
         */
        function startNewPayrollRun() {
            const payrollPage = pagesData.find(p => p.id === "payroll-processing");
            if (!payrollPage) return; // Ensure page data exists

            const workflowSteps = payrollPage.workflowSteps;
            workflowSteps.forEach((step, index) => {
                step.status = (index === 0) ? 'active' : 'pending'; // First step active, others pending
            });
            currentWorkflowPage = 0; // Reset active step index (if used for linear tracking)
            renderPage('payroll-processing'); // Re-render the payroll processing page
            showMessage('New Payroll Run initiated. Starting workflow from Employee Onboarding.', 'success');
        }

        /**
         * Displays detailed information about a specific brand in a modal.
         * @param {string} brandName - The name of the brand to display details for.
         */
        function showBrandDetails(brandName) {
            const brandsPage = pagesData.find(p => p.id === "global-brands");
            if (!brandsPage) return; // Ensure page data exists

            const brand = brandsPage.data.find(b => b.name === brandName);
            if (!brand) {
                showMessage('Brand details not found.', 'error');
                return;
            }
            document.getElementById('brandDetailTitle').textContent = brand.name;
            document.getElementById('brandDetailContent').innerHTML = `
                <p class="text-sm text-slate-600 mb-2"><strong>Category:</strong> ${brand.category}</p>
                <p class="text-slate-700">${brand.details}</p>
            `;
            openModal('brandDetailModal');
        }


        /**
         * Renders the content for the selected page.
         * @param {string} pageId - The ID of the page to render.
         */
        function renderPage(pageId) {
            const page = pagesData.find(p => p.id === pageId);
            if (!page) return; // Exit if page data not found

            // Update page header
            document.getElementById('current-page-title').textContent = page.title;
            document.getElementById('current-page-description').textContent = page.description;
            document.getElementById('page-content').innerHTML = page.content; // Load page-specific HTML content

            // Destroy existing Chart.js instances to prevent memory leaks and conflicts
            if (currentChart) {
                currentChart.destroy();
                currentChart = null;
            }
            if (currentChart2) {
                currentChart2.destroy();
                currentChart2 = null;
            }
            // Destroy any other charts dynamically created on previous pages
            // This is a simple approach; for more complex apps, keep track of all chart instances.
            Chart.helpers.each(Chart.instances, function(instance){
                instance.destroy();
            });


            // Render specific content based on page ID
            if (pageId === "dashboard-overview") {
                // Initialize Chart.js for Dashboard KPIs
                const ctx1 = document.getElementById('dashboardKPIsChart').getContext('2d');
                currentChart = new Chart(ctx1, {
                    type: page.chartData.type,
                    data: page.chartData.data,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100, // Max value for percentage-based KPIs
                                ticks: {
                                    callback: value => value + '%' // Add '%' to y-axis labels
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false // Hide legend for cleaner look
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        label += context.raw + '%'; // Add '%' to tooltip labels
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });

                // Initialize second chart for Payroll Spend Trend
                const ctx2 = document.getElementById('payrollSpendChart').getContext('2d');
                currentChart2 = new Chart(ctx2, {
                    type: page.chartData2.type,
                    data: page.chartData2.data,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value, index, ticks) {
                                        return '$' + value.toLocaleString(); // Format as currency
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'bottom'
                            }
                        }
                    }
                });

            } else if (pageId === "employee-management") {
                // Render employee list and setup search functionality
                const employeeListDiv = document.getElementById('employeeList');
                const employeeSearchInput = document.getElementById('employeeSearch');

                /**
                 * Displays employees based on a filter text.
                 * @param {string} filterText - The text to filter employees by name, role, or location.
                 */
                function displayEmployees(filterText = '') {
                    employeeListDiv.innerHTML = ''; // Clear current list
                    const filteredEmployees = page.data.filter(emp =>
                        emp.name.toLowerCase().includes(filterText.toLowerCase()) ||
                        emp.role.toLowerCase().includes(filterText.toLowerCase()) ||
                        emp.location.toLowerCase().includes(filterText.toLowerCase())
                    );
                    if (filteredEmployees.length === 0) {
                        employeeListDiv.innerHTML = '<p class="text-slate-500 text-center">No employees found.</p>';
                        return;
                    }
                    filteredEmployees.forEach(emp => {
                        const employeeCard = document.createElement('div');
                        employeeCard.className = 'flex items-center justify-between p-3 bg-slate-50 rounded-md border border-slate-200 shadow-sm';
                        employeeCard.innerHTML = `
                            <div>
                                <p class="font-semibold text-slate-900">${emp.name}</p>
                                <p class="text-sm text-slate-600">${emp.role} - ${emp.location}</p>
                                <p class="text-xs text-slate-500">Hire Date: ${emp.hireDate} | Salary: $${emp.salary}</p>
                            </div>
                            <div class="flex gap-2">
                                <button class="bg-blue-500 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-600 transition-colors" onclick="showMessage('Simulating: Viewing profile for ${emp.name}', 'info')">View Profile</button>
                                <button class="bg-yellow-500 text-white px-3 py-1 rounded-md text-sm hover:bg-yellow-600 transition-colors" onclick="showMessage('Simulating: Editing profile for ${emp.name}', 'info')">Edit</button>
                                <button class="bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600 transition-colors" onclick="showMessage('Simulating: Deleting ${emp.name}', 'error')">Delete</button>
                            </div>
                        `;
                        employeeListDiv.appendChild(employeeCard);
                    });
                }
                displayEmployees(); // Initial display of all employees
                employeeSearchInput.addEventListener('input', (e) => displayEmployees(e.target.value)); // Live search
            } else if (pageId === "payroll-processing") {
                // Render payroll workflow steps
                const workflowDiv = document.getElementById('payrollWorkflow');
                workflowDiv.innerHTML = ''; // Clear current workflow display
                page.workflowSteps.forEach((step, index) => {
                    const stepCard = document.createElement('div');
                    stepCard.className = `workflow-step-card ${step.status}`; // Add status class for styling
                    // Generate buttons for each step, disabling if not active
                    let buttonsHtml = step.buttons.map(btn => `
                        <button class="bg-indigo-500 text-white px-3 py-1 rounded-md text-sm hover:bg-indigo-600 transition-colors" 
                                onclick="showMessage('Simulating: ${btn.action} (System: ${btn.system})\\nRoute: ${btn.route_or_action || 'N/A'}', 'info'); advanceWorkflowStep(${index});"
                                ${step.status !== 'active' ? 'disabled' : ''}>
                            ${btn.name}
                        </button>
                    `).join('');
                    stepCard.innerHTML = `
                        <h4 class="font-semibold text-slate-900 mb-2">${step.name}</h4>
                        <p class="text-sm text-slate-600 mb-3">${step.description}</p>
                        <div class="flex flex-wrap gap-2">${buttonsHtml}</div>
                    `;
                    workflowDiv.appendChild(stepCard);
                });
            } else if (pageId === "hat-book-index") {
                // Render UI element library with search and filters
                const buttonLibraryContentDiv = document.getElementById('buttonLibraryContent');
                const buttonSearchInput = document.getElementById('buttonSearch');
                const systemFilterSelect = document.getElementById('systemFilter');
                const categoryFilterSelect = document.getElementById('categoryFilter');

                /**
                 * Displays UI elements based on search term and filters.
                 */
                function displayButtons() {
                    buttonLibraryContentDiv.innerHTML = ''; // Clear current display
                    const searchTerm = buttonSearchInput.value.toLowerCase();
                    const selectedSystem = systemFilterSelect.value;
                    const selectedCategory = categoryFilterSelect.value;

                    const filteredButtons = buttonLibraryData.filter(button => {
                        const matchesSearch = button.name.toLowerCase().includes(searchTerm) ||
                                              button.function.toLowerCase().includes(searchTerm) ||
                                              (button.route_or_action && button.route_or_action.toLowerCase().includes(searchTerm)) ||
                                              (button.context_detail && button.context_detail.toLowerCase().includes(searchTerm));
                        const matchesSystem = selectedSystem === '' || button.system === selectedSystem;
                        const matchesCategory = selectedCategory === '' || button.category === selectedCategory;
                        return matchesSearch && matchesSystem && matchesCategory;
                    });

                    if (filteredButtons.length === 0) {
                        buttonLibraryContentDiv.innerHTML = '<p class="text-slate-500 text-center">No matching UI elements found.</p>';
                        return;
                    }

                    filteredButtons.forEach(button => {
                        const buttonCard = document.createElement('div');
                        buttonCard.className = 'border border-slate-200 rounded-lg';
                        let dropdownOptionsHtml = '';
                        // If the button has dropdown options, generate HTML for them
                        if (button.dropdownOptions && button.dropdownOptions.length > 0) {
                            dropdownOptionsHtml = `
                                <p class="mt-2 text-xs font-semibold text-slate-700">Dropdown Options:</p>
                                <ul class="list-disc pl-5 text-xs text-slate-600 space-y-1">
                                    ${button.dropdownOptions.map(opt => `
                                        <li>
                                            <strong>${opt.name}:</strong> ${opt.function} 
                                            <code class="bg-slate-100 p-0.5 rounded">${opt.route_or_action || 'N/A'}</code>
                                            ${opt.report_name ? ` (Report: ${opt.report_name})` : ''}
                                            <button class="ml-2 text-blue-600 hover:underline text-xs" onclick="showMessage('Simulating: Selecting dropdown option \\'${opt.name}\\' for ${button.name}. Route: ${opt.route_or_action || 'N/A'}', 'info')">Select</button>
                                        </li>
                                    `).join('')}
                                </ul>
                            `;
                        }

                        buttonCard.innerHTML = `
                            <div class="collapsible-header flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 rounded-t-lg">
                                <h4 class="text-md font-semibold text-slate-900">${button.name} <span class="text-sm text-slate-500">(${button.system})</span></h4>
                                <span class="rotate-icon text-slate-500 text-xl">+</span>
                            </div>
                            <div class="collapsible-content p-4 text-sm text-slate-700">
                                <p><strong>Type:</strong> ${button.type}</p>
                                <p><strong>Category:</strong> ${button.category}</p>
                                <p><strong>Context:</strong> ${button.context_detail || 'N/A'}</p>
                                <p><strong>Function:</strong> ${button.function}</p>
                                <p><strong>Route/Action:</strong> <code class="bg-slate-100 p-1 rounded">${button.route_or_action || 'N/A'}</code></p>
                                ${dropdownOptionsHtml}
                                <button class="mt-3 bg-gray-200 text-gray-800 px-3 py-1 rounded-md text-xs hover:bg-gray-300 transition-colors" 
                                        onclick="showMessage('Simulating: Clicking \\'${button.name}\\' (Type: ${button.type}). Route: ${button.route_or_action || 'N/A'}', 'info')">
                                    Simulate Click
                                </button>
                            </div>
                        `;
                        buttonLibraryContentDiv.appendChild(buttonCard);
                    });

                    // Re-attach event listeners for newly created collapsible headers
                    buttonLibraryContentDiv.querySelectorAll('.collapsible-header').forEach(header => {
                        header.addEventListener('click', (e) => {
                            const content = header.nextElementSibling; // Get the content div
                            const icon = header.querySelector('.rotate-icon'); // Get the icon
                            if (content.classList.contains('open')) {
                                content.classList.remove('open');
                                icon.classList.remove('rotated');
                                icon.textContent = '+';
                            } else {
                                content.classList.add('open');
                                icon.classList.add('rotated');
                                icon.textContent = '-';
                            }
                        });
                    });
                }
                // Attach event listeners for search and filter inputs
                buttonSearchInput.addEventListener('input', displayButtons);
                systemFilterSelect.addEventListener('change', displayButtons);
                categoryFilterSelect.addEventListener('change', displayButtons);
                displayButtons(); // Initial render of the button library
            } else if (pageId === "global-brands") {
                // Render global brands list with search
                const brandListDiv = document.getElementById('brandList');
                const brandSearchInput = document.getElementById('brandSearch');

                /**
                 * Displays brands based on a filter text.
                 * @param {string} filterText - The text to filter brands by name, category, or description.
                 */
                function displayBrands(filterText = '') {
                    brandListDiv.innerHTML = ''; // Clear current list
                    const filteredBrands = page.data.filter(brand =>
                        brand.name.toLowerCase().includes(filterText.toLowerCase()) ||
                        brand.category.toLowerCase().includes(filterText.toLowerCase()) ||
                        brand.description.toLowerCase().includes(filterText.toLowerCase())
                    );
                    if (filteredBrands.length === 0) {
                        brandListDiv.innerHTML = '<p class="text-slate-500 text-center col-span-full">No brands found.</p>';
                        return;
                    }
                    filteredBrands.forEach(brand => {
                        const brandCard = document.createElement('div');
                        brandCard.className = 'bg-slate-50 p-4 rounded-lg border border-slate-200 shadow-sm';
                        brandCard.innerHTML = `
                            <h4 class="font-semibold text-slate-900">${brand.name}</h4>
                            <p class="text-sm text-slate-600">${brand.category}</p>
                            <p class="text-xs text-slate-500 mt-2">${brand.description}</p>
                            <button class="mt-3 bg-indigo-500 text-white px-3 py-1 rounded-md text-sm hover:bg-indigo-600 transition-colors" onclick="showBrandDetails('${brand.name}')">Explore</button>
                        `;
                        brandListDiv.appendChild(brandCard);
                    });
                }
                displayBrands(); // Initial display of all brands
                brandSearchInput.addEventListener('input', (e) => displayBrands(e.target.value)); // Live search
            } else if (pageId === "api-integrations") {
                // Render API integrations table
                const apiIntegrationTableBody = document.getElementById('apiIntegrationTableBody');
                apiIntegrationTableBody.innerHTML = ''; // Clear current table body
                page.data.forEach(api => {
                    const row = document.createElement('tr');
                    row.className = 'border-b border-slate-100 last:border-b-0'; // Add border for rows
                    let managementButtonsHtml = api.management_actions.map(action => `
                        <button class="bg-gray-200 text-gray-800 px-2 py-1 rounded-md text-xs hover:bg-gray-300 transition-colors"
                                onclick="showMessage('Simulating: ${action.action} for ${api.service}', 'info')">
                            ${action.name}
                        </button>
                    `).join(' ');
                    row.innerHTML = `
                        <td class="py-3 px-4 text-sm text-slate-800">${api.service}</td>
                        <td class="py-3 px-4 text-sm text-slate-600">${api.embedded_locations}</td>
                        <td class="py-3 px-4 text-sm text-slate-600">${api.actions}</td>
                        <td class="py-3 px-4 text-sm text-slate-600">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${api.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                ${api.status}
                            </span>
                        </td>
                        <td class="py-3 px-4 text-sm text-slate-600">
                            <div class="flex flex-wrap gap-1">
                                ${managementButtonsHtml}
                            </div>
                        </td>
                    `;
                    apiIntegrationTableBody.appendChild(row);
                });
            }
            <!-- START OF NEW PAGE RENDERING LOGIC -->
            else if (page.charts) {
                // Generic chart rendering for pages with multiple charts
                // Ensure the canvas elements exist before trying to get their context
                page.charts.forEach(chartConfig => {
                    const canvasElement = document.getElementById(chartConfig.id);
                    if (canvasElement) {
                        const ctx = canvasElement.getContext('2d');
                        new Chart(ctx, chartConfig);
                    } else {
                        console.warn(`Canvas element with ID '${chartConfig.id}' not found for chart rendering.`);
                    }
                });
            }
            <!-- END OF NEW PAGE RENDERING LOGIC -->
        }

        // Add event listeners to all navigation links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent default link behavior
                const pageId = e.currentTarget.dataset.page; // Get the page ID from data-page attribute
                renderPage(pageId); // Render the selected page

                // Update active link styling
                document.querySelectorAll('.nav-link').forEach(nav => {
                    nav.classList.remove('bg-slate-700', 'text-indigo-300'); // Remove active classes
                    nav.classList.add('text-white'); // Ensure default text color
                });
                e.currentTarget.classList.add('bg-slate-700', 'text-indigo-300'); // Add active classes to clicked link
                e.currentTarget.classList.remove('text-white'); // Remove default text color from active link
            });
        });

        // Initial page load: Render the dashboard overview and set its link as active
        document.addEventListener('DOMContentLoaded', () => {
            renderPage('dashboard-overview');
            document.querySelector('.nav-link[data-page="dashboard-overview"]').classList.add('bg-slate-700', 'text-indigo-300');
            document.querySelector('.nav-link[data-page="dashboard-overview"]').classList.remove('text-white');
        });
    </script>
</body>
</html>
